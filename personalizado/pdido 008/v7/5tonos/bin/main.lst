ANSI-C/cC++ Compiler for HC08 V-5.0.17, Apr 22 2003

    1:  /*
    2:  ** ###################################################################
    3:  **
    4:  **     Filename  : vph1.C
    5:  **
    6:  **     Project   : vph1
    7:  ** 
    8:  **     Processor : MC68HC908GP32CFB
    9:  **

Function: CBuffer::CBuffer( const CBuffer&)
Source  : Z:\vph1\personalizado\pdido 008\v7\5tonos\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 f6               LDA   ,X
  0006 87               PSHA  
  0007 95               TSX   
  0008 e605             LDA   5,X
  000a 87               PSHA  
  000b ee06             LDX   6,X
  000d 8a               PULH  
  000e 86               PULA  
  000f f7               STA   ,X
  0010 ad32             BSR   L44 ;abs = 0044
  0012 e601             LDA   1,X
  0014 ad25             BSR   L3B ;abs = 003b
  0016 e701             STA   1,X
  0018 ad2a             BSR   L44 ;abs = 0044
  001a e602             LDA   2,X
  001c ad1d             BSR   L3B ;abs = 003b
  001e e702             STA   2,X
  0020 ad22             BSR   L44 ;abs = 0044
  0022 e603             LDA   3,X
  0024 ad15             BSR   L3B ;abs = 003b
  0026 e703             STA   3,X
  0028 ad1a             BSR   L44 ;abs = 0044
  002a e604             LDA   4,X
  002c ad0d             BSR   L3B ;abs = 003b
  002e e704             STA   4,X
  0030 ad12             BSR   L44 ;abs = 0044
  0032 e605             LDA   5,X
  0034 ad05             BSR   L3B ;abs = 003b
  0036 e705             STA   5,X
  0038 a702             AIS   #2
  003a 81               RTS   
  003b          L3B:    
  003b 95               TSX   
  003c ee06             LDX   6,X
  003e 89               PSHX  
  003f 95               TSX   
  0040 ee08             LDX   8,X
  0042 8a               PULH  
  0043 81               RTS   
  0044          L44:    
  0044 95               TSX   
  0045 e602             LDA   2,X
  0047 87               PSHA  
  0048 ee03             LDX   3,X
  004a 8a               PULH  
  004b 81               RTS   

Function: CBuffer::operator =( const CBuffer&)
Source  : Z:\vph1\personalizado\pdido 008\v7\5tonos\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 f6               LDA   ,X
  0006 ad2f             BSR   L37 ;abs = 0037
  0008 f7               STA   ,X
  0009 ad35             BSR   L40 ;abs = 0040
  000b e601             LDA   1,X
  000d ad28             BSR   L37 ;abs = 0037
  000f e701             STA   1,X
  0011 ad2d             BSR   L40 ;abs = 0040
  0013 e602             LDA   2,X
  0015 ad20             BSR   L37 ;abs = 0037
  0017 e702             STA   2,X
  0019 ad25             BSR   L40 ;abs = 0040
  001b e603             LDA   3,X
  001d ad18             BSR   L37 ;abs = 0037
  001f e703             STA   3,X
  0021 ad1d             BSR   L40 ;abs = 0040
  0023 e604             LDA   4,X
  0025 ad10             BSR   L37 ;abs = 0037
  0027 e704             STA   4,X
  0029 ad15             BSR   L40 ;abs = 0040
  002b e605             LDA   5,X
  002d ad08             BSR   L37 ;abs = 0037
  002f e705             STA   5,X
  0031 9f               TXA   
  0032 8b               PSHH  
  0033 88               PULX  
  0034 a702             AIS   #2
  0036 81               RTS   
  0037          L37:    
  0037 95               TSX   
  0038 ee06             LDX   6,X
  003a 89               PSHX  
  003b 95               TSX   
  003c ee08             LDX   8,X
  003e 8a               PULH  
  003f 81               RTS   
  0040          L40:    
  0040 95               TSX   
  0041 e602             LDA   2,X
  0043 87               PSHA  
  0044 ee03             LDX   3,X
  0046 8a               PULH  
  0047 81               RTS   
    1:  #include <ctype.h>
    2:  #include "buffer.h"
    3:  
    4:  #define BUFFER_FULL	-2
    5:  #define ERROR		-1
    6:  
    7:  #define	GENERAL_RESET			0x01
    8:  #define SIGNALLING_CONTROL		0x80
    9:  #define SELCALL_SUBAUDIO_STATUS 0x81
   10:  #define	SIGNALLING_SETUP		0x82
   11:  #define CTSS_TX_FAST_RX_FREQ	0x83
   12:  #define	RX_TONE_PROGRAM			0x84
   13:  #define	DCSbyte3				0x85
   14:  #define	DCSbyte2				0x86
   15:  #define	DCSbyte1				0x87
   16:  #define GENERAL_CONTROL			0x88
   17:  #define	AUDIO_CONTROL			0x8A
   18:  #define GENERAL_PURPOSE_TIMER	0x8B
   19:  #define	SELCALL_TX				0x8D
   20:  #define	IRQ_MASK				0x8E
   21:  #define IRQ_FLAG				0x8F
   22:  
   23:  #define CTCSS_MODE	 			0
   24:  #define SELCALL_MODE 			1
   25:  
   26:  #define chip_select_ClrVal() (PTC &= ~64)
   27:  #define chip_select_SetVal() (PTC |= 64)
   28:  #define DataIn_GetVal() ((PTD) & 2)
   29:  
   30:  #define DETECT_MODE		0
   31:  #define	PREDICTIVE_MODE	1
   32:  #define	UNKNOWN_TONE	0x0f
   33:  
   34:  #ifdef __cplusplus
   35:  
   36:  class CFX828
   37:  {
   38:  	public:
   39:  		CFX828 ();
   40:  		~CFX828 ();
   41:  		
   42:  		void Init ();
   43:  		int  TxZVEI (const unsigned char *);
   44:  		int	 TxZVEI (const unsigned char tono);
   45:  		BOOL IsTxBufferEmpty();
   46:  		void ProgramFastCTCSS (float tono);
   47:  		void CTCSS_tx_enable (unsigned char enable);
   48:  		void PutToneTable (unsigned char pos, int tono);
   49:  		void SetDecoderBandwidth (unsigned char width);
   50:  		void EnableToneDecoder (BOOL enable, BOOL mode);
   51:  		void EnableCTCSSDecoder (BOOL enable, BOOL mode);
   52:  		void IRQService ();
   53:  		char GetTone ();
   54:  		BOOL CTCSS_Detected (void);
   55:  		void SetRepeatTone (unsigned char tono = 0xe) {_RepeatTone = tono;}

Function: CFX828::SetRepeatTone( unsigned char)
Source  : Z:\vph1\personalizado\pdido 008\v7\Comun\fx828.h
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106

  0000 87               PSHA  
  0001 95               TSX   
  0002 e603             LDA   3,X
  0004 87               PSHA  
  0005 ee04             LDX   4,X
  0007 9ee602           LDA   2,SP
  000a 8a               PULH  
  000b e704             STA   4,X
  000d 8a               PULH  
  000e 81               RTS   

Function: CFX828::CFX828( const CFX828&)
Source  : Z:\vph1\personalizado\pdido 008\v7\5tonos\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 f6               LDA   ,X
  0006 87               PSHA  
  0007 95               TSX   
  0008 e605             LDA   5,X
  000a 87               PSHA  
  000b ee06             LDX   6,X
  000d 8a               PULH  
  000e 86               PULA  
  000f f7               STA   ,X
  0010 ad2a             BSR   L3C ;abs = 003c
  0012 e601             LDA   1,X
  0014 ad1d             BSR   L33 ;abs = 0033
  0016 e701             STA   1,X
  0018 ad22             BSR   L3C ;abs = 003c
  001a e602             LDA   2,X
  001c ad15             BSR   L33 ;abs = 0033
  001e e702             STA   2,X
  0020 ad1a             BSR   L3C ;abs = 003c
  0022 e603             LDA   3,X
  0024 ad0d             BSR   L33 ;abs = 0033
  0026 e703             STA   3,X
  0028 ad12             BSR   L3C ;abs = 003c
  002a e604             LDA   4,X
  002c ad05             BSR   L33 ;abs = 0033
  002e e704             STA   4,X
  0030 a702             AIS   #2
  0032 81               RTS   
  0033          L33:    
  0033 95               TSX   
  0034 ee06             LDX   6,X
  0036 89               PSHX  
  0037 95               TSX   
  0038 ee08             LDX   8,X
  003a 8a               PULH  
  003b 81               RTS   
  003c          L3C:    
  003c 95               TSX   
  003d e602             LDA   2,X
  003f 87               PSHA  
  0040 ee03             LDX   3,X
  0042 8a               PULH  
  0043 81               RTS   

Function: CFX828::operator =( const CFX828&)
Source  : Z:\vph1\personalizado\pdido 008\v7\5tonos\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 f6               LDA   ,X
  0006 ad27             BSR   L2F ;abs = 002f
  0008 f7               STA   ,X
  0009 ad2d             BSR   L38 ;abs = 0038
  000b e601             LDA   1,X
  000d ad20             BSR   L2F ;abs = 002f
  000f e701             STA   1,X
  0011 ad25             BSR   L38 ;abs = 0038
  0013 e602             LDA   2,X
  0015 ad18             BSR   L2F ;abs = 002f
  0017 e702             STA   2,X
  0019 ad1d             BSR   L38 ;abs = 0038
  001b e603             LDA   3,X
  001d ad10             BSR   L2F ;abs = 002f
  001f e703             STA   3,X
  0021 ad15             BSR   L38 ;abs = 0038
  0023 e604             LDA   4,X
  0025 ad08             BSR   L2F ;abs = 002f
  0027 e704             STA   4,X
  0029 9f               TXA   
  002a 8b               PSHH  
  002b 88               PULX  
  002c a702             AIS   #2
  002e 81               RTS   
  002f          L2F:    
  002f 95               TSX   
  0030 ee06             LDX   6,X
  0032 89               PSHX  
  0033 95               TSX   
  0034 ee08             LDX   8,X
  0036 8a               PULH  
  0037 81               RTS   
  0038          L38:    
  0038 95               TSX   
  0039 e602             LDA   2,X
  003b 87               PSHA  
  003c ee03             LDX   3,X
  003e 8a               PULH  
  003f 81               RTS   
   10:  **     Version   : Driver 01.00
   11:  **
   12:  **     Compiler  : Metrowerks HC08 C Compiler V-5.0.13
   13:  **
   14:  **     Date/Time : 4/17/jueves, 15:23
   15:  **
   16:  **     Abstract  :
   17:  **
   18:  **         Main module. 
   19:  **         Here is to be placed user's code.
   20:  **
   21:  **     Settings  :
   22:  **
   23:  **
   24:  **     Contents  :
   25:  **
   26:  **         No public methods
   27:  **
   28:  **
   29:  **     (c) Copyright UNIS, spol. s r.o. 1997-2002
   30:  **
   31:  **     UNIS, spol. s r.o.
   32:  **     Jundrovska 33
   33:  **     624 00 Brno
   34:  **     Czech Republic
   35:  **
   36:  **     http      : www.processorexpert.com
   37:  **     mail      : info@processorexpert.com
   38:  **
   39:  ** ###################################################################
   40:  */
   41:  /* MODULE vph1 */
   42:  
   43:  // PARA QUE SE LINKE CORRECTAMENTE ASEGURARSE DE QUE LA SIGUIENTE LINEA EXISTE EN EL ARCHIVO VPH1.PRM
   44:  //     HEAP_SEGMENT					 INTO  HEAP;
   45:  
   46:  //#pragma MESSAGE DISABLE C1420 /* WARNING C1420: Result of function-call is ignored. You can uncomment this line to disable this compiler warning */
   47:  
   48:  /*Including used modules for compilling procedure*/
   49:  #include "vph1.h"
   50:  #include "Cpu.h"
   51:  #include "Events.h"
   52:  #include "TIMER.h"
   53:  #include "IRQ.h"
   54:  /*Include shared modules, which are used for whole project*/
   55:  #include "PE_Types.h"
   56:  #include "PE_Error.h"
   57:  #include "PE_Const.h"
   58:  #include "IO_Map.h"
   59:  #include <stdio.h>
   60:  #include <ctype.h>
   61:  #include "delay.h"
   62:  #include "maincpp.h"
   63:  #include "io_map.h"
   64:  #include "APERTURA.h"
   65:  
   66:  #include "fx828.h"
   67:  
   68:  #define CTCSS_ACCESO1	0
   69:  
   70:  #define COLGADO		PTA_PTA6
   71:  #define PTT_ON		PTC_PTC2 = 0
   72:  #define PTT_OFF		PTC_PTC2 = 1
   73:  #define BEEP_ON		PTB_PTB7 = 1
   74:  #define BEEP_OFF	PTB_PTB7 = 0
   75:  
   76:  #define LED_PUERTA1	PTB_PTB6
   77:  
   78:  #define MODE_STANDBY		0
   79:  #define MODE_COMUNICATION	1
   80:  
   81:  //#define MAKEBYTE(b, a)  ((((byte)(a)) | (((byte)(b))) << 4))
   82:  #define HEX2BIN(a) (((byte)(0x80)) >> (byte)(a))
   83:  
   84:  
   85:  extern "C" byte Terminal_SendChar(byte Chr);
   86:  
   87:  unsigned int const_indicativo[1] @0xf700;
   88:  unsigned int indicativo;
   89:  
   90:  
   91:  const float TxCTCSSTable[]={
   92:  							  	67.0, /* Acceso 1 SUBTONO COMUNICACION*/ 	
   93:  							  	69.3, /*  Acceso 1 Abrir puerta 1*/ 	
   94:  							  	71.9, /* no utilizado*/ 	 
   95:  									74.4, /* no utilizado*/ 	 
   96:  									77.0, /* no utilizado*/ 	 
   97:  									
   98:  									79.7, /* Acceso 2 SUBTONO COMUNICACION*/ 	
   99:  									82.5, /* no utilizado*/ 	 
  100:  									85.4, /* Acceso 2 Abrir puerta 2*/ 
  101:  									88.5, /* no utilizado*/ 	 
  102:  									91.5, /* no utilizado*/ 	 
  103:  									
  104:  									94.8,  /* Acceso 3 SUBTONO COMUNICACION*/ 	 
  105:  									97.4,  /* no utilizado*/ 	 
  106:  									100.0, /* no utilizado*/ 	 
  107:  									103.5, /* Acceso 3 Abrir puerta 3*/   
  108:  									107.2, /* no utilizado*/ 	 
  109:  									
  110:  									110.9, /* Acceso 4 SUBTONO COMUNICACION*/ 	 
  111:  									114.8, /* no utilizado*/ 	 
  112:  									118.8, /* no utilizado*/ 	 
  113:  									123.0, /* no utilizado*/ 	 
  114:  									127.3, /* Acceso 4 Abrir puerta 4*/   
  115:  									
  116:  									131.8, /* no utilizado*/ 	 
  117:  									136.5, /* no utilizado*/ 	 
  118:  									141.3, /* no utilizado*/ 	 
  119:  									146.2, /* no utilizado*/ 	 
  120:  									151.4, /* no utilizado*/ 	 
  121:  									
  122:  									156.7, /* no utilizado*/ 	 
  123:  									159.8, /* no utilizado*/ 	 
  124:  									162.2, /* no utilizado*/ 	 
  125:  									167.9, /* no utilizado*/ 	 
  126:  									173.8, /* no utilizado*/ 	 
  127:  									
  128:  									179.9, /* no utilizado*/ 	 
  129:  									183.5, /* no utilizado*/ 	 
  130:  									186.2, /* no utilizado*/ 	 
  131:  									189.9, /* no utilizado*/ 	 
  132:  									192.8, /* no utilizado*/ 	 
  133:  									
  134:  									196.6, /* no utilizado*/ 	 
  135:  									199.5, /* no utilizado*/ 	 
  136:  									203.5, /* no utilizado*/ 	 
  137:  									206.5, /* no utilizado*/ 	 
  138:  									210.7, /* no utilizado*/ 	 
  139:  									
  140:  									218.1, /* no utilizado*/ 	 
  141:  									225.7, /* no utilizado*/ 	 
  142:  									229.1, /* no utilizado*/ 	 
  143:  									233.6, /* no utilizado*/ 	 
  144:  									241.8, /* no utilizado*/ 	 
  145:  									};
  146:  
  147:  
  148:  const int RxCTCSSTable[47]={0x3d8,	/*67.0*/ 0x409,	/*69.3*/ 0x41b,	/*71.9*/
  149:  							0x44e,	/*74.4*/ 0x483,	/*77.0*/ 0x494,	/*79.7*/
  150:  							0x4cb,	/*82.5*/ 0x502,	/*85.4*/ 0x514,	/*88.5*/
  151:  							0x54c,	/*91.5*/ 0x587,	/*94.8*/ 0x594,	/*97.4*/
  152:  							0x5cb,	/*100.0*/0x607,	/*103.5*/0x645,	/*107.2*/
  153:  							0x682,	/*110.9*/0x6c0,	/*114.8*/0x6d1,	/*118.8*/
  154:  							0x710,	/*123.0*/0x750,	/*127.3*/0x7c0,	/*131.8*/
  155:  							0x802,	/*136.5*/0x884,	/*141.3*/0x886,	/*146.2*/
  156:  							0x8c9,	/*151.4*/0x90c,	/*156.7*/0x948,	/*159.8*/
  157:  							0x982,	/*162.2*/0x9c6,	/*167.9*/0xa0b,	/*173.8*/
  158:  							0xa84,	/*179.9*/0xac2,	/*183.5*/0xac9,	/*186.2*/
  159:  							0xb08,	/*189.9*/0xb44,	/*192.8*/0xb83,	/*196.6*/
  160:  							0xb8a,	/*199.5*/0xbc9,	/*203.5*/0xc06,	/*206.5*/
  161:  							0xc46,	/*210.7*/0xcc3,	/*218.1*/0xd41,	/*225.7*/
  162:  							0xd48,	/*229.1*/0xd89,	/*233.6*/0xe08,	/*241.8*/
  163:  							0xe88,	/*250.3*/0xec7};/*254.1*/
  164:  								 
  165:  const int RxZVEI1Table[15]={0xc44,	/*2400 0*/
  166:  							0x553,	/*1060 1*/
  167:  							0x5d2,	/*1160 2*/
  168:  							0x683,	/*1270 3*/
  169:  							0x70e,	/*1400 4*/
  170:  							0x7c8,	/*1530 5*/
  171:  							0x886,	/*1670 6*/
  172:  							0x949,	/*1830 7*/
  173:  							0xa42,	/*2000 8*/
  174:  							0xb43,	/*2200 9*/
  175:  							0xe46,	/*2800 A*/
  176:  							0x414,	/*810  B*/
  177:  							0x4d8,	/*970  C*/
  178:  							0x486,	/*885  D*/
  179:  							0xd45};	/*2600 E*/
  180:  
  181:  
  182:  bool SelCallDetected;
  183:  bool bSQL;
  184:  int SubtonoRX;
  185:  float SubtonoTX;
  186:  
  187:  char str[50];
  188:  
  189:  union 		//Indicativo recibido
  190:  {
  191:  	struct
  192:  	{
  193:  		char low	:8;
  194:  		char high	:8;
  195:  	}_byte;
  196:  	unsigned int valor;
  197:  	
  198:  }TeclaPulsada;
  199:  
  200:  
  201:  unsigned char IndicRx;
  202:  
  203:  void PutString (char *string)
  204:  {

Function: PutString( unsigned char*)
Source  : Z:\vph1\personalizado\pdido 008\v7\5tonos\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  0002 a7fe             AIS   #-2
  205:  	int n;
  206:  	for (n=0;string[n]!=0;n++)
  0004 95               TSX   
  0005 6f01             CLR   1,X
  0007 7f               CLR   ,X
  0008 200f             BRA   L19 ;abs = 0019
  000a          LA:     
  000a ad15             BSR   L21 ;abs = 0021
  207:  		while (Terminal_SendChar (string[n])==ERR_TXFULL);
  000c f6               LDA   ,X
  000d cd0000           JSR   Terminal_SendChar
  0010 410bf7           CBEQA #11,LA ;abs = 000a
  0013 95               TSX   
  0014 6c01             INC   1,X
  0016 2601             BNE   L19 ;abs = 0019
  0018 7c               INC   ,X
  0019          L19:    
  0019 ad06             BSR   L21 ;abs = 0021
  001b 7d               TST   ,X
  001c 26ec             BNE   LA ;abs = 000a
  208:  }
  001e a704             AIS   #4
  0020 81               RTS   
  0021          L21:    
  0021 95               TSX   
  0022 e605             LDA   5,X
  0024 eb03             ADD   3,X
  0026 87               PSHA  
  0027 e602             LDA   2,X
  0029 e904             ADC   4,X
  002b 87               PSHA  
  002c 8a               PULH  
  002d 88               PULX  
  002e 81               RTS   
  209:  
  210:  CFX828 FX828;
  211:  BOOL bMode;
  212:  
  213:  void maincpp (void)
  214:  {

Function: maincpp
Source  : Z:\vph1\personalizado\pdido 008\v7\5tonos\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106

  0000 a7fd             AIS   #-3
  215:  	int n;
  216:  	indicativo = *const_indicativo;
  0002 c60001           LDA   const_indicativo:1
  0005 c70001           STA   indicativo:1
  0008 ce0000           LDX   const_indicativo
  000b cf0000           STX   indicativo
  217:  	bool bSQL;
  218:  	
  219:  	DDRC_DDRC4 = FALSE;
  000e 1900             BCLR  4,_DDRC
  220:  	DDRA_DDRA6 = FALSE;
  0010 1d00             BCLR  6,_DDRA
  221:  	DDRB = 0xff;		//PORTB TODO SALIDAS
  0012 6eff00           MOV   #-1,_DDRB
  222:  	
  223:  	DDRC_DDRC2 = TRUE;
  0015 1400             BSET  2,_DDRC
  224:  	DDRD_DDRD4 = FALSE;
  0017 1900             BCLR  4,_DDRD
  225:  	PTB = 00;
  0019 3f00             CLR   _PTB
  226:  	
  227:  	SelCallDetected = FALSE;
  001b 5f               CLRX  
  001c cf0000           STX   SelCallDetected
  228:  	BEEP_OFF;
  001f 1f00             BCLR  7,_PTB
  229:  	PTT_OFF;
  0021 1400             BSET  2,_PTC
  230:  	bSQL=FALSE;
  0023 95               TSX   
  0024 6f02             CLR   2,X
  231:  
  232:  	sprintf (str,"%d",indicativo);
  0026 87               PSHA  
  0027 c60000           LDA   indicativo
  002a 87               PSHA  
  002b 450000           LDHX  @"%d"
  002e 89               PSHX  
  002f 8b               PSHH  
  0030 450000           LDHX  @str
  0033 89               PSHX  
  0034 8b               PSHH  
  0035 cd0000           JSR   sprintf
  0038 a706             AIS   #6
  233:  	PutString (str);
  003a a600             LDA   @str
  003c ae00             LDX   @str:MSB
  003e ad00             BSR   PutString
  234:  	PutString ("\n\r");
  0040 a600             LDA   @"\012\015"
  0042 ae00             LDX   @"\012\015":MSB
  0044 ad00             BSR   PutString
  235:  
  236:  	bMode=MODE_STANDBY;
  0046 4f               CLRA  
  0047 c70000           STA   bMode
  237:  	EnableInterrupts;
  004a 9a               CLI   
  238:  	FX828.Init ();
  004b a600             LDA   @FX828
  004d ae00             LDX   @FX828:MSB
  004f cd0000           JSR   Init
  239:  
  240:  	//Grabamos los tonos ZVEEI en la tabla  RX TONE PROGRAM TABLE
  241:  	for (n=0;n<15;n++)
  0052 95               TSX   
  0053 6f01             CLR   1,X
  0055 7f               CLR   ,X
  0056          L56:    
  242:  		FX828.PutToneTable (n,RxZVEI1Table[n]);
  0056 450000           LDHX  @FX828
  0059 89               PSHX  
  005a 8b               PSHH  
  005b 95               TSX   
  005c ee03             LDX   3,X
  005e 89               PSHX  
  005f 58               LSLX  
  0060 8c               CLRH  
  0061 d60001           LDA   @RxZVEI1Table:1,X
  0064 de0000           LDX   @RxZVEI1Table,X
  0067 cd0000           JSR   PutToneTable
  006a a703             AIS   #3
  006c 95               TSX   
  006d 6c01             INC   1,X
  006f 2601             BNE   L72 ;abs = 0072
  0071 7c               INC   ,X
  0072          L72:    
  0072 f6               LDA   ,X
  0073 87               PSHA  
  0074 ee01             LDX   1,X
  0076 8a               PULH  
  0077 65000f           CPHX  #15
  007a 91da             BLT   L56 ;abs = 0056
  243:  		
  244:  	FX828.SetDecoderBandwidth (0x0f);				//Ponemos el ancho de banda a 2.7
  007c 450000           LDHX  @FX828
  007f 89               PSHX  
  0080 8b               PSHH  
  0081 a60f             LDA   #15
  0083 cd0000           JSR   SetDecoderBandwidth
  0086 a702             AIS   #2
  245:  	FX828.Mod1Enable (FALSE);	//Deshabilitamos mod1		
  0088 450000           LDHX  @FX828
  008b 89               PSHX  
  008c 8b               PSHH  
  008d 4f               CLRA  
  008e ae1f             LDX   #31
  0090 cd0000           JSR   Mod1Enable
  0093 a702             AIS   #2
  246:  	FX828.Mod2Enable (TRUE);
  0095 450000           LDHX  @FX828
  0098 89               PSHX  
  0099 8b               PSHH  
  009a a601             LDA   #1
  009c ae1f             LDX   #31
  009e cd0000           JSR   Mod2Enable
  00a1 a702             AIS   #2
  247:  	FX828.EnableCTCSSDecoder (FALSE, PREDICTIVE_MODE);
  00a3 450000           LDHX  @FX828
  00a6 89               PSHX  
  00a7 8b               PSHH  
  00a8 4f               CLRA  
  00a9 ae01             LDX   #1
  00ab cd0000           JSR   EnableCTCSSDecoder
  00ae a702             AIS   #2
  248:  	FX828.EnableToneDecoder (TRUE,SELCALL_MODE);
  00b0 450000           LDHX  @FX828
  00b3 89               PSHX  
  00b4 8b               PSHH  
  00b5 a601             LDA   #1
  00b7 97               TAX   
  00b8 cd0000           JSR   EnableToneDecoder
  00bb a702             AIS   #2
  249:  
  250:  	for(;;)
  00bd 2024             BRA   LE3 ;abs = 00e3
  00bf          LBF:    
  251:  	{
  252:  		if (SelCallDetected)
  00bf c60000           LDA   SelCallDetected
  00c2 271f             BEQ   LE3 ;abs = 00e3
  253:  		{
  254:  			if (TeclaPulsada.valor == indicativo)
  00c4 c60001           LDA   indicativo:1
  00c7 c10001           CMP   TeclaPulsada:1
  00ca 2613             BNE   LDF ;abs = 00df
  00cc c60000           LDA   indicativo
  00cf c10000           CMP   TeclaPulsada
  00d2 260b             BNE   LDF ;abs = 00df
  255:  			{
  256:  				PTT_ON;
  00d4 1500             BCLR  2,_PTC
  257:  				delay_ms(2000);
  00d6 a6d0             LDA   #-48
  00d8 ae07             LDX   #7
  00da cd0000           JSR   delay_ms
  258:  				PTT_OFF;
  00dd 1400             BSET  2,_PTC
  00df          LDF:    
  259:  			}				
  260:  			SelCallDetected=FALSE;
  00df 4f               CLRA  
  00e0 c70000           STA   SelCallDetected
  00e3          LE3:    
  261:  		}	
  262:  	}
  00e3 20da             BRA   LBF ;abs = 00bf
  263:  }
  264:  
  265:  #ifdef __cplusplu
  266:  	extern "C"
  267:  #endif
  268:  void MainIRQ ()
  269:  {

Function: MainIRQ
Source  : Z:\vph1\personalizado\pdido 008\v7\5tonos\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106

  0000 8b               PSHH  
  270:  	static byte buffer[4];
  271:  	static bool bStart;
  272:  	static byte idx;
  273:  	byte tono;
  274:  	
  275:  	FX828.IRQService();
  0001 a600             LDA   @FX828
  0003 ae00             LDX   @FX828:MSB
  0005 cd0000           JSR   IRQService
  276:  
  277:  	tono = FX828.GetTone();
  0008 a600             LDA   @FX828
  000a ae00             LDX   @FX828:MSB
  000c cd0000           JSR   GetTone
  000f 95               TSX   
  0010 f7               STA   ,X
  278:  	
  279:  	if (bMode == MODE_STANDBY)
  0011 ce0000           LDX   bMode
  0014 2703             BEQ   L19 ;abs = 0019
  0016 cc00a3           JMP   LA3 ;abs = 00a3
  0019          L19:    
  280:  	{
  281:  		if (tono!=0xff && tono!=UNKNOWN_TONE)	//Hemos detectado un tono conocido
  0019 a1ff             CMP   #-1
  001b 2603             BNE   L20 ;abs = 0020
  001d cc00b3           JMP   LB3 ;abs = 00b3
  0020          L20:    
  0020 a10f             CMP   #15
  0022 2603             BNE   L27 ;abs = 0027
  0024 cc00b3           JMP   LB3 ;abs = 00b3
  0027          L27:    
  282:  		{		
  283:  			sprintf (str,"%x",tono);
  0027 87               PSHA  
  0028 8c               CLRH  
  0029 8b               PSHH  
  002a 450000           LDHX  @"%x"
  002d 89               PSHX  
  002e 8b               PSHH  
  002f 450000           LDHX  @str
  0032 89               PSHX  
  0033 8b               PSHH  
  0034 cd0000           JSR   sprintf
  0037 a706             AIS   #6
  284:  			PutString (str);
  0039 a600             LDA   @str
  003b ae00             LDX   @str:MSB
  003d cd0000           JSR   PutString
  285:  		
  286:  			if (bStart==TRUE)
  0040 c60000           LDA   bStart
  0043 4b5a             DBNZA L9F ;abs = 009f
  287:  			{
  288:  				buffer[idx++]=tono;	
  0045 c60000           LDA   idx
  0048 97               TAX   
  0049 4c               INCA  
  004a c70000           STA   idx
  004d 8c               CLRH  
  004e 9ee601           LDA   1,SP
  0051 d70000           STA   @buffer,X
  289:  				if (idx==4)
  0054 c60000           LDA   idx
  0057 a104             CMP   #4
  0059 2644             BNE   L9F ;abs = 009f
  290:  				{
  291:  					IndicRx = buffer[0];
  005b 450000           LDHX  @buffer
  005e f6               LDA   ,X
  005f c70000           STA   IndicRx
  292:  					TeclaPulsada._byte.low  = buffer[1];
  0062 e601             LDA   1,X
  0064 c80000           EOR   TeclaPulsada
  0067 c80000           EOR   TeclaPulsada
  006a c70000           STA   TeclaPulsada
  293:  					TeclaPulsada._byte.high = MAKEBYTE (buffer[2],buffer[3]);
  006d e602             LDA   2,X
  006f 62               NSA   
  0070 a4f0             AND   #-16
  0072 ea03             ORA   3,X
  0074 450001           LDHX  @TeclaPulsada:1
  0077 f8               EOR   ,X
  0078 f8               EOR   ,X
  0079 f7               STA   ,X
  294:  					SelCallDetected = TRUE;	
  007a a601             LDA   #1
  007c c70000           STA   SelCallDetected
  295:  					idx =0;
  007f 4f               CLRA  
  0080 c70000           STA   idx
  296:  					bStart=FALSE;
  0083 c70000           STA   bStart
  0086          L86:    
  297:  
  298:  					while (Terminal_SendChar ((UCHAR)TeclaPulsada._byte.high)==ERR_TXFULL);
  0086 c60001           LDA   TeclaPulsada:1
  0089 cd0000           JSR   Terminal_SendChar
  008c 410bf7           CBEQA #11,L86 ;abs = 0086
  008f          L8F:    
  299:  					while (Terminal_SendChar ((UCHAR)TeclaPulsada._byte.low)==ERR_TXFULL);				
  008f c60000           LDA   TeclaPulsada
  0092 cd0000           JSR   Terminal_SendChar
  0095 410bf7           CBEQA #11,L8F ;abs = 008f
  300:  			    PutString ("\n\r");
  0098 a600             LDA   @"\012\015"
  009a ae00             LDX   @"\012\015":MSB
  009c cd0000           JSR   PutString
  009f          L9F:    
  301:  				}		
  302:  			}
  303:  
  304:  			if (tono==0xb)	//Inicio de trama
  009f 95               TSX   
  00a0 f6               LDA   ,X
  00a1 a10b             CMP   #11
  00a3          LA3:    
  00a3 261c             BNE   LC1 ;abs = 00c1
  305:  			{
  306:  				idx=0;
  00a5 4f               CLRA  
  00a6 c70000           STA   idx
  307:  				bStart=TRUE;
  00a9 4c               INCA  
  00aa c70000           STA   bStart
  308:  			  PutString ("\n\r");
  00ad a600             LDA   @"\012\015"
  00af ae00             LDX   @"\012\015":MSB
  00b1 200b             BRA   LBE ;abs = 00be
  00b3          LB3:    
  309:  			}		
  310:  		}
  311:  		else
  312:  		{
  313:  			idx=0;
  00b3 4f               CLRA  
  00b4 c70000           STA   idx
  314:  			bStart=FALSE;
  00b7 c70000           STA   bStart
  315:  			PutString ("Tono desconocido. Codigo descartado\n");
  00ba a600             LDA   @"Tono desconocido. Codigo descartado\012"
  00bc ae00             LDX   @"Tono desconocido. Codigo descartado\012":MSB
  00be          LBE:    
  00be cd0000           JSR   PutString
  00c1          LC1:    
  316:  		}	
  317:  	}
  318:  	
  319:  	if (bMode == MODE_COMUNICATION)
  00c1 c60000           LDA   bMode
  00c4 4b0b             DBNZA LD1 ;abs = 00d1
  320:  	{
  321:  		switch (tono)
  00c6 95               TSX   
  00c7 f6               LDA   ,X
  00c8 2603             BNE   LCD ;abs = 00cd
  322:  		{
  323:  			case 0:
  324:  //				while (Terminal_SendChar ((UCHAR)'1')==ERR_TXFULL);
  325:  				bSQL = TRUE;
  00ca a601             LDA   #1
  326:  			break;
  00cc 21               SKIP1 LCE ;abs = 00ce
  00cd          LCD:    
  327:  			
  328:  			default:
  329:  //				while (Terminal_SendChar ((UCHAR)'0')==ERR_TXFULL);
  330:  				bSQL = FALSE;
  00cd 4f               CLRA  
  00ce          LCE:    
  00ce c70000           STA   bSQL
  00d1          LD1:    
  331:  			break;
  332:  		}		
  333:  	}
  334:  }
  00d1 8a               PULH  
  00d2 81               RTS   

Function: __ConstructorInit__
Source  : Z:\vph1\personalizado\pdido 008\v7\5tonos\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 a600             LDA   @FX828
  0002 ae00             LDX   @FX828:MSB
  0004 cc0000           JMP   CONSTRUCTOR

Function: __DestructorInit__
Source  : Z:\vph1\personalizado\pdido 008\v7\5tonos\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos;Z:\vph1\personalizado\pdido 008\v7\5tonos\bin;Z:\vph1\personalizado\pdido 008\v7\5tonos\cmd;*Z:\vph1\personalizado\pdido 008\v7\5tonos\Code;Z:\vph1\personalizado\pdido 008\v7\5tonos\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\personalizado\pdido 008\v7\Comun;*Z:\vph1\personalizado\pdido 008\v7;Z:\vph1\personalizado\pdido 008\v7\5tonos\doc;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\hc08c\include;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert\PESL\HC08;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Env"TEXTPATH=Z:\vph1\personalizado\pdido 008\v7\5tonos\bin" -Lasm=%n.lst -ObjN="Z:\vph1\personalizado\pdido 008\v7\5tonos\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -Qvtpfar -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 a600             LDA   @FX828
  0002 ae00             LDX   @FX828:MSB
  0004 cc0000           JMP   DESTRUCTOR
  335:  /* END vph1 */
  336:  /*
  337:  ** ###################################################################
  338:  **
  339:  **     This file was created by UNIS Processor Expert 02.89 for 
  340:  **     the Motorola HC08 series of microcontrollers.
  341:  **
  342:  ** ###################################################################
  343:  */
  344:  
