ANSI-C/cC++ Compiler for HC08 V-5.0.15, Apr 11 2002

    1:  /*
    2:  ** ###################################################################
    3:  **
    4:  **     Filename  : vph1.C
    5:  **
    6:  **     Project   : vph1
    7:  ** 
    8:  **     Processor : MC68HC908GP32CFB
    9:  **

Function: CBuffer::CBuffer( const CBuffer&)
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 e601             LDA   1,X
  0007 87               PSHA  
  0008 f6               LDA   ,X
  0009 87               PSHA  
  000a 95               TSX   
  000b e606             LDA   6,X
  000d 87               PSHA  
  000e ee07             LDX   7,X
  0010 9ee603           LDA   3,SP
  0013 8a               PULH  
  0014 e701             STA   1,X
  0016 86               PULA  
  0017 f7               STA   ,X
  0018 95               TSX   
  0019 e601             LDA   1,X
  001b 87               PSHA  
  001c ee02             LDX   2,X
  001e 8a               PULH  
  001f e603             LDA   3,X
  0021 ee02             LDX   2,X
  0023 9ee701           STA   1,SP
  0026 9ee606           LDA   6,SP
  0029 87               PSHA  
  002a 8a               PULH  
  002b 86               PULA  
  002c 89               PSHX  
  002d 9eee07           LDX   7,SP
  0030 e703             STA   3,X
  0032 86               PULA  
  0033 e702             STA   2,X
  0035 95               TSX   
  0036 f6               LDA   ,X
  0037 87               PSHA  
  0038 ee01             LDX   1,X
  003a 8a               PULH  
  003b e605             LDA   5,X
  003d ee04             LDX   4,X
  003f 87               PSHA  
  0040 9ee606           LDA   6,SP
  0043 87               PSHA  
  0044 8a               PULH  
  0045 86               PULA  
  0046 89               PSHX  
  0047 9eee07           LDX   7,SP
  004a e705             STA   5,X
  004c 86               PULA  
  004d e704             STA   4,X
  004f a702             AIS   #2
  0051 81               RTS   

Function: CBuffer::operator =( const CBuffer&)
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 e601             LDA   1,X
  0007 87               PSHA  
  0008 f6               LDA   ,X
  0009 95               TSX   
  000a ee05             LDX   5,X
  000c 89               PSHX  
  000d 95               TSX   
  000e ee07             LDX   7,X
  0010 8a               PULH  
  0011 87               PSHA  
  0012 9ee602           LDA   2,SP
  0015 e701             STA   1,X
  0017 86               PULA  
  0018 f7               STA   ,X
  0019 95               TSX   
  001a e601             LDA   1,X
  001c 87               PSHA  
  001d ee02             LDX   2,X
  001f 8a               PULH  
  0020 e603             LDA   3,X
  0022 ee02             LDX   2,X
  0024 9ee701           STA   1,SP
  0027 9ee606           LDA   6,SP
  002a 87               PSHA  
  002b 8a               PULH  
  002c 86               PULA  
  002d 89               PSHX  
  002e 9eee07           LDX   7,SP
  0031 e703             STA   3,X
  0033 86               PULA  
  0034 e702             STA   2,X
  0036 95               TSX   
  0037 f6               LDA   ,X
  0038 87               PSHA  
  0039 ee01             LDX   1,X
  003b 8a               PULH  
  003c e605             LDA   5,X
  003e ee04             LDX   4,X
  0040 87               PSHA  
  0041 9ee606           LDA   6,SP
  0044 87               PSHA  
  0045 8a               PULH  
  0046 86               PULA  
  0047 89               PSHX  
  0048 9eee07           LDX   7,SP
  004b e705             STA   5,X
  004d 86               PULA  
  004e e704             STA   4,X
  0050 9f               TXA   
  0051 8b               PSHH  
  0052 88               PULX  
  0053 a702             AIS   #2
  0055 81               RTS   
    1:  #include "pe_types.h"
    2:  #include "buffer.h"
    3:  
    4:  #define BUFFER_FULL	-2
    5:  #define ERROR		-1
    6:  
    7:  #define	GENERAL_RESET			0x01
    8:  #define SIGNALLING_CONTROL		0x80
    9:  #define SELCALL_SUBAUDIO_STATUS 0x81
   10:  #define	SIGNALLING_SETUP		0x82
   11:  #define CTSS_TX_FAST_RX_FREQ	0x83
   12:  #define	RX_TONE_PROGRAM			0x84
   13:  #define	DCS_BYTE3				0x85
   14:  #define	DCS_BYTE2				0x86
   15:  #define	DCS_BYTE1				0x87
   16:  #define GENERAL_CONTROL			0x88
   17:  #define	AUDIO_CONTROL			0x8A
   18:  #define GENERAL_PURPOSE_TIMER	0x8B
   19:  #define	SELCALL_TX				0x8D
   20:  #define	IRQ_MASK				0x8E
   21:  #define IRQ_FLAG				0x8F
   22:  
   23:  #define CTCSS_MODE	 			0
   24:  #define SELCALL_MODE 			1
   25:  
   26:  #define chip_select_ClrVal() (PTC &= ~64)
   27:  #define chip_select_SetVal() (PTC |= 64)
   28:  #define DataIn_GetVal() ((PTD) & 2)
   29:  
   30:  #define DETECT_MODE		0
   31:  #define	PREDICTIVE_MODE	1
   32:  #define	UNKNOWN_TONE	0x0f
   33:  
   34:  #ifdef __cplusplus
   35:  
   36:  class CFX828
   37:  {
   38:  	public:
   39:  		CFX828 ();
   40:  		~CFX828 ();
   41:  		
   42:  		void Init ();
   43:  		int  TxZVEI (const byte *);
   44:  		int	 TxZVEI (byte tono);
   45:  		bool IsTxBufferEmpty();
   46:  		void ProgramFastCTCSS (int tono);
   47:  		void CTCSS_tx_enable (unsigned char enable);
   48:  		void PutToneTable (byte pos, int tono);
   49:  		void SetDecoderBandwidth (byte width);
   50:  		void EnableToneDecoder (bool enable, bool mode);
   51:  		void EnableCTCSSDecoder (bool enable, bool mode);
   52:  		void IRQService ();
   53:  		char GetTone ();
   54:  		bool CTCSS_Detected (void);
   55:  		void SetRepeatTone (byte tono = 0xe) {_RepeatTone = tono;}

Function: CFX828::SetRepeatTone( unsigned char)
Source  : Z:\vph1\Cobra Sistemas\Comun\fx828.h
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106

  0000 87               PSHA  
  0001 95               TSX   
  0002 e603             LDA   3,X
  0004 87               PSHA  
  0005 ee04             LDX   4,X
  0007 9ee602           LDA   2,SP
  000a 8a               PULH  
  000b e704             STA   4,X
  000d 8a               PULH  
  000e 81               RTS   

Function: CFX828::CFX828( const CFX828&)
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 e601             LDA   1,X
  0007 87               PSHA  
  0008 f6               LDA   ,X
  0009 87               PSHA  
  000a 95               TSX   
  000b e606             LDA   6,X
  000d 87               PSHA  
  000e ee07             LDX   7,X
  0010 9ee603           LDA   3,SP
  0013 8a               PULH  
  0014 e701             STA   1,X
  0016 86               PULA  
  0017 f7               STA   ,X
  0018 95               TSX   
  0019 e601             LDA   1,X
  001b 87               PSHA  
  001c ee02             LDX   2,X
  001e 8a               PULH  
  001f e603             LDA   3,X
  0021 ee02             LDX   2,X
  0023 9ee701           STA   1,SP
  0026 9ee606           LDA   6,SP
  0029 87               PSHA  
  002a 8a               PULH  
  002b 86               PULA  
  002c 89               PSHX  
  002d 9eee07           LDX   7,SP
  0030 e703             STA   3,X
  0032 86               PULA  
  0033 e702             STA   2,X
  0035 95               TSX   
  0036 f6               LDA   ,X
  0037 87               PSHA  
  0038 ee01             LDX   1,X
  003a 8a               PULH  
  003b e604             LDA   4,X
  003d 95               TSX   
  003e ee04             LDX   4,X
  0040 89               PSHX  
  0041 95               TSX   
  0042 ee06             LDX   6,X
  0044 8a               PULH  
  0045 e704             STA   4,X
  0047 a702             AIS   #2
  0049 81               RTS   

Function: CFX828::operator =( const CFX828&)
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 e604             LDA   4,X
  0007 95               TSX   
  0008 ee04             LDX   4,X
  000a 89               PSHX  
  000b 95               TSX   
  000c ee06             LDX   6,X
  000e 8a               PULH  
  000f e704             STA   4,X
  0011 95               TSX   
  0012 f6               LDA   ,X
  0013 87               PSHA  
  0014 ee01             LDX   1,X
  0016 8a               PULH  
  0017 e601             LDA   1,X
  0019 fe               LDX   ,X
  001a 87               PSHA  
  001b 9ee606           LDA   6,SP
  001e 87               PSHA  
  001f 8a               PULH  
  0020 86               PULA  
  0021 89               PSHX  
  0022 9eee07           LDX   7,SP
  0025 e701             STA   1,X
  0027 86               PULA  
  0028 f7               STA   ,X
  0029 95               TSX   
  002a f6               LDA   ,X
  002b 87               PSHA  
  002c ee01             LDX   1,X
  002e 8a               PULH  
  002f e603             LDA   3,X
  0031 ee02             LDX   2,X
  0033 87               PSHA  
  0034 9ee606           LDA   6,SP
  0037 87               PSHA  
  0038 8a               PULH  
  0039 86               PULA  
  003a 89               PSHX  
  003b 9eee07           LDX   7,SP
  003e e703             STA   3,X
  0040 86               PULA  
  0041 e702             STA   2,X
  0043 9f               TXA   
  0044 8b               PSHH  
  0045 88               PULX  
  0046 a702             AIS   #2
  0048 81               RTS   
   10:  **     Version   : Driver 01.00
   11:  **
   12:  **     Compiler  : Metrowerks HC08 C Compiler V-5.0.13
   13:  **
   14:  **     Date/Time : 4/17/jueves, 15:23
   15:  **
   16:  **     Abstract  :
   17:  **
   18:  **         Main module. 
   19:  **         Here is to be placed user's code.
   20:  **
   21:  **     Settings  :
   22:  **
   23:  **
   24:  **     Contents  :
   25:  **
   26:  **         No public methods
   27:  **
   28:  **
   29:  **     (c) Copyright UNIS, spol. s r.o. 1997-2002
   30:  **
   31:  **     UNIS, spol. s r.o.
   32:  **     Jundrovska 33
   33:  **     624 00 Brno
   34:  **     Czech Republic
   35:  **
   36:  **     http      : www.processorexpert.com
   37:  **     mail      : info@processorexpert.com
   38:  **
   39:  ** ###################################################################
   40:  */
   41:  /* MODULE vph1 */
   42:  
   43:  //#pragma MESSAGE DISABLE C1420 /* WARNING C1420: Result of function-call is ignored. You can uncomment this line to disable this compiler warning */
   44:  
   45:  /*Including used modules for compilling procedure*/
   46:  #include "vph1.h"
   47:  #include "Cpu.h"
   48:  #include "Events.h"
   49:  #include "IRQ.h"
   50:  /*Include shared modules, which are used for whole project*/
   51:  #include "PE_Types.h"
   52:  #include "PE_Error.h"
   53:  #include "PE_Const.h"
   54:  #include "IO_Map.h"
   55:  #include <stdio.h>
   56:  #include <ctype.h>
   57:  #include "delay.h"
   58:  #include "maincpp.h"
   59:  #include "io_map.h"
   60:  
   61:  #include "fx828.h"
   62:  
   63:  #define CTCSS_APERTURA	18
   64:  #define CTCSS_SQL		12
   65:  
   66:  #define APERTURA_PUERTA	PTC_PTC4
   67:  
   68:  #define PTT_ON			PTC_PTC2 = 0;delay_ms(100)
   69:  #define PTT_OFF			PTC_PTC2 = 1
   70:  
   71:  #define AUDIO_ENABLE	PTC_PTC5 = 0
   72:  #define AUDIO_DISABLE	PTC_PTC5 = 1
   73:  
   74:  #define SQL_ABIERTO	PTD_PTD4==0
   75:  #define SQL_CERRADO PTD_PTD4==1
   76:  
   77:  extern "C" byte Terminal_SendChar(byte Chr);
   78:  extern "C" byte TIMER_Enable(void);
   79:  extern "C" byte TIMER_Disable(void);
   80:  
   81:  const int RxCTCSSTable[47]={0x3d8,	/*67.0*/ 0x409,	/*69.3*/ 0x41b,	/*71.9*/
   82:  							0x44e,	/*74.4*/ 0x483,	/*77.0*/ 0x494,	/*79.7*/
   83:  							0x4cb,	/*82.5*/ 0x502,	/*85.4*/ 0x514,	/*88.5*/
   84:  							0x54c,	/*91.5*/ 0x587,	/*94.8*/ 0x594,	/*97.4*/
   85:  							0x5cb,	/*100.0*/0x607,	/*103.5*/0x645,	/*107.2*/
   86:  							0x682,	/*110.9*/0x6c0,	/*114.8*/0x6d1,	/*118.8*/
   87:  							0x710,	/*123.0*/0x750,	/*127.3*/0x7c0,	/*131.8*/
   88:  							0x802,	/*136.5*/0x884,	/*141.3*/0x886,	/*146.2*/
   89:  							0x8c9,	/*151.4*/0x90c,	/*156.7*/0x948,	/*159.8*/
   90:  							0x982,	/*162.2*/0x9c6,	/*167.9*/0xa0b,	/*173.8*/
   91:  							0xa84,	/*179.9*/0xac2,	/*183.5*/0xac9,	/*186.2*/
   92:  							0xb08,	/*189.9*/0xb44,	/*192.8*/0xb83,	/*196.6*/
   93:  							0xb8a,	/*199.5*/0xbc9,	/*203.5*/0xc06,	/*206.5*/
   94:  							0xc46,	/*210.7*/0xcc3,	/*218.1*/0xd41,	/*225.7*/
   95:  							0xd48,	/*229.1*/0xd89,	/*233.6*/0xe08,	/*241.8*/
   96:  							0xe88,	/*250.3*/0xec7};/*254.1*/
   97:  								 
   98:  const int RxZVEI1Table[15]={0xc44,	/*2400 0*/
   99:  							0x553,	/*1060 1*/
  100:  							0x5d2,	/*1160 2*/
  101:  							0x683,	/*1270 3*/
  102:  							0x70e,	/*1400 4*/
  103:  							0x7c8,	/*1530 5*/
  104:  							0x886,	/*1670 6*/
  105:  							0x949,	/*1830 7*/
  106:  							0xa42,	/*2000 8*/
  107:  							0xb43,	/*2200 9*/
  108:  							0xe46,	/*2800 A*/
  109:  							0x414,	/*810  B*/
  110:  							0x4d8,	/*970  C*/
  111:  							0x486,	/*885  D*/
  112:  							0xd45};	/*2600 E*/
  113:  
  114:  const int indicativo = 1;
  115:  
  116:  bool bFlag;
  117:  bool bAperPuerta;
  118:  bool bSQL;
  119:  
  120:  union 		//Indicativo recibido
  121:  {
  122:  	struct
  123:  	{
  124:  		char low	:8;
  125:  		char high	:8;
  126:  	}_byte;
  127:  	int valor;
  128:  	
  129:  }IndicRx;
  130:  
  131:  void PutString (char *string)
  132:  {

Function: PutString( unsigned char*)
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  0002 a7fe             AIS   #-2
  133:  	int n;
  134:  	for (n=0;string[n]!=0;n++)
  0004 95               TSX   
  0005 6f01             CLR   1,X
  0007 7f               CLR   ,X
  0008 200f             BRA   L19 ;abs = 0019
  000a          LA:     
  000a ad15             BSR   L21 ;abs = 0021
  135:  		while (Terminal_SendChar (string[n])==ERR_TXFULL);
  000c f6               LDA   ,X
  000d cd0000           JSR   Terminal_SendChar
  0010 410bf7           CBEQA #11,LA ;abs = 000a
  0013 95               TSX   
  0014 6c01             INC   1,X
  0016 2601             BNE   L19 ;abs = 0019
  0018 7c               INC   ,X
  0019          L19:    
  0019 ad06             BSR   L21 ;abs = 0021
  001b 7d               TST   ,X
  001c 26ec             BNE   LA ;abs = 000a
  136:  }
  001e a704             AIS   #4
  0020 81               RTS   
  0021          L21:    
  0021 95               TSX   
  0022 e605             LDA   5,X
  0024 eb03             ADD   3,X
  0026 87               PSHA  
  0027 e602             LDA   2,X
  0029 e904             ADC   4,X
  002b 87               PSHA  
  002c 8a               PULH  
  002d 88               PULX  
  002e 81               RTS   
  137:  
  138:  CFX828 FX828;
  139:  
  140:  void desconexion(void)
  141:  {

Function: desconexion( void)
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106

  142:  	AUDIO_DISABLE;
  0000 1a00             BSET  5,_PTC
  143:  	FX828.CTCSS_tx_enable (FALSE);		//Fin de transmisión subtono
  0002 450000           LDHX  @FX828
  0005 89               PSHX  
  0006 8b               PSHH  
  0007 4f               CLRA  
  0008 cd0000           JSR   CTCSS_tx_enable
  000b a702             AIS   #2
  144:  	FX828.EnableBPF (FALSE);			//Deshabilitamos salida de audio rx
  000d 450000           LDHX  @FX828
  0010 89               PSHX  
  0011 8b               PSHH  
  0012 4f               CLRA  
  0013 cd0000           JSR   EnableBPF
  0016 a702             AIS   #2
  145:  	PTT_OFF;
  0018 1400             BSET  2,_PTC
  146:  }
  001a 81               RTS   
  147:  
  148:  signed char teclado (void)
  149:  {

Function: teclado( void)
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106

  150:  	if (PTA<0x7f)	//Se detecta una pulsación
  0000 b600             LDA   _PTA
  0002 a17f             CMP   #127
  0004 2412             BCC   L18 ;abs = 0018
  151:  	{
  152:  		delay_ms (100);
  0006 a664             LDA   #100
  0008 5f               CLRX  
  0009 cd0000           JSR   delay_ms
  153:  		if (PTA<0x7f)
  000c b600             LDA   _PTA
  000e a17f             CMP   #127
  0010 2406             BCC   L18 ;abs = 0018
  154:  			return (~PTA)&0x7f;
  0012 b600             LDA   _PTA
  0014 43               COMA  
  0015 a47f             AND   #127
  0017 81               RTS   
  0018          L18:    
  155:  	}
  156:  	return -1;	//No hay ninguna tecla pulsada
  0018 a6ff             LDA   #-1
  157:  }
  001a 81               RTS   
  158:  void maincpp (void)
  159:  {	

Function: maincpp
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106

  0000 a7f7             AIS   #-9
  160:  	int n;
  161:  	bool bFlag;
  162:  	signed char tecla;
  163:  	char str[5];
  164:  	
  165:  	DDRA = 0;		//Porta como entradas (Teclado)
  0002 3f00             CLR   _DDRA
  166:  	DDRB = 0;
  0004 3f00             CLR   _DDRB
  167:  
  168:  	DDRC_DDRC2=TRUE;
  0006 1400             BSET  2,_DDRC
  169:  	DDRC_DDRC3=TRUE;
  0008 1600             BSET  3,_DDRC
  170:  	DDRC_DDRC4=TRUE;
  000a 1800             BSET  4,_DDRC
  171:  	DDRC_DDRC5=TRUE;
  000c 1a00             BSET  5,_DDRC
  172:  	DDRD_DDRD4=FALSE;
  000e 1900             BCLR  4,_DDRD
  173:  
  174:  	APERTURA_PUERTA = FALSE;
  0010 1900             BCLR  4,_PTC
  175:  
  176:  	bFlag=FALSE;
  0012 95               TSX   
  0013 6f02             CLR   2,X
  177:  	bAperPuerta = FALSE;
  0015 4f               CLRA  
  0016 c70000           STA   bAperPuerta
  178:  	bSQL = FALSE;
  0019 c70000           STA   bSQL
  179:  	
  180:  	EnableInterrupts;
  001c 9a               CLI   
  181:  	FX828.Init ();
  001d a600             LDA   @FX828
  001f ae00             LDX   @FX828:MSB
  0021 cd0000           JSR   Init
  182:  
  183:  	
  184:  	FX828.Mod1Enable (TRUE,0x1f);	//Habilitamos mod1 con volumen al máximo
  0024 450000           LDHX  @FX828
  0027 89               PSHX  
  0028 8b               PSHH  
  0029 a601             LDA   #1
  002b ae1f             LDX   #31
  002d cd0000           JSR   Mod1Enable
  0030 a702             AIS   #2
  185:  	FX828.Mod2Enable (FALSE,0);		//Deshabilitamos mod2
  0032 450000           LDHX  @FX828
  0035 89               PSHX  
  0036 8b               PSHH  
  0037 4f               CLRA  
  0038 5f               CLRX  
  0039 cd0000           JSR   Mod2Enable
  003c a702             AIS   #2
  186:  	
  187:  	//Grabamos los tonos CTCSS en la tabla  RX TONE PROGRAM TABLE
  188:  	FX828.PutToneTable (0,RxCTCSSTable[CTCSS_SQL]);		//Tono de SQL
  003e 450000           LDHX  @FX828
  0041 89               PSHX  
  0042 8b               PSHH  
  0043 4f               CLRA  
  0044 87               PSHA  
  0045 a6cb             LDA   #-53
  0047 ae05             LDX   #5
  0049 cd0000           JSR   PutToneTable
  004c a703             AIS   #3
  189:  	FX828.PutToneTable (1,RxCTCSSTable[CTCSS_APERTURA]);		//Tono de apertura de puerta
  004e 450000           LDHX  @FX828
  0051 89               PSHX  
  0052 8b               PSHH  
  0053 a601             LDA   #1
  0055 87               PSHA  
  0056 a610             LDA   #16
  0058 ae07             LDX   #7
  005a cd0000           JSR   PutToneTable
  005d a703             AIS   #3
  190:  
  191:  	FX828.SetDecoderBandwidth (0x08);			//Ponemos el ancho de banda a 1.1%
  005f 450000           LDHX  @FX828
  0062 89               PSHX  
  0063 8b               PSHH  
  0064 a608             LDA   #8
  0066 cd0000           JSR   SetDecoderBandwidth
  0069 a702             AIS   #2
  192:  	FX828.EnableToneDecoder (TRUE,CTCSS_MODE);	//Habilitamos el decodificador de tonos
  006b 450000           LDHX  @FX828
  006e 89               PSHX  
  006f 8b               PSHH  
  0070 5f               CLRX  
  0071 a601             LDA   #1
  0073 cd0000           JSR   EnableToneDecoder
  0076 a702             AIS   #2
  193:  	FX828.ProgramFastCTCSS (100);				//Subtonos de 100 Hz para recibir y transmitir
  0078 450000           LDHX  @FX828
  007b 89               PSHX  
  007c 8b               PSHH  
  007d a664             LDA   #100
  007f 5f               CLRX  
  0080 cd0000           JSR   ProgramFastCTCSS
  0083 a702             AIS   #2
  194:  	
  195:  	TIMER_Enable();
  0085 cd0000           JSR   TIMER_Enable
  196:  
  197:  	desconexion();
  0088 cd0000           JSR   desconexion
  008b          L8B:    
  198:  
  199:  	while (TRUE)
  200:  	{
  201:  		tecla = teclado();
  008b cd0000           JSR   teclado
  008e 95               TSX   
  008f e703             STA   3,X
  202:  		if (tecla>-1 && !bFlag)	//Pulsan una tecla del teclado
  0091 4c               INCA  
  0092 9362             BLE   LF6 ;abs = 00f6
  0094 6d02             TST   2,X
  0096 265e             BNE   LF6 ;abs = 00f6
  203:  		{		
  204:  			PTT_ON;
  0098 1500             BCLR  2,_PTC
  009a cd01b2           JSR   L1B2 ;abs = 01b2
  205:  			//Componemos el código ZVEI
  206:  			sprintf (str,"%04d",tecla);
  009d 95               TSX   
  009e e603             LDA   3,X
  00a0 48               LSLA  
  00a1 4f               CLRA  
  00a2 a200             SBC   #0
  00a4 ee03             LDX   3,X
  00a6 89               PSHX  
  00a7 87               PSHA  
  00a8 450000           LDHX  @"%04d"
  00ab 89               PSHX  
  00ac 8b               PSHH  
  00ad 95               TSX   
  00ae af08             AIX   #8
  00b0 89               PSHX  
  00b1 8b               PSHH  
  00b2 cd0000           JSR   sprintf
  00b5 a706             AIS   #6
  207:  						
  208:  			//Transmitimos:
  209:  			//
  210:  			// --- --- --- --- ---
  211:  			//| B | C | C | C | C |
  212:  			// --- --- --- --- ---
  213:  			//
  214:  			// B = Inicio de trama (B)
  215:  			// C = Indicativo (3 dígitos)
  216:  			
  217:  			delay_ms(500);
  00b7 a6f4             LDA   #-12
  00b9 ae01             LDX   #1
  00bb cd0000           JSR   delay_ms
  00be cd01a5           JSR   L1A5 ;abs = 01a5
  218:  			FX828.CTCSS_tx_enable (TRUE);
  219:  			delay_ms(1000);		//Damos tiempo a que el decodificador detecte el subtono.
  00c1 a6e8             LDA   #-24
  00c3 ae03             LDX   #3
  00c5 cd0000           JSR   delay_ms
  220:  			DisableInterrupts;
  00c8 9b               SEI   
  221:  			FX828.TxZVEI (0x0b);
  00c9 450000           LDHX  @FX828
  00cc 89               PSHX  
  00cd 8b               PSHH  
  00ce a60b             LDA   #11
  00d0 cd0000           JSR   TxZVEI
  00d3 a702             AIS   #2
  222:  			FX828.TxZVEI (str);
  00d5 450000           LDHX  @FX828
  00d8 89               PSHX  
  00d9 8b               PSHH  
  00da 95               TSX   
  00db af06             AIX   #6
  00dd 9f               TXA   
  00de 8b               PSHH  
  00df 88               PULX  
  00e0 cd0000           JSR   TxZVEI
  00e3 a702             AIS   #2
  223:  			EnableInterrupts;
  00e5 9a               CLI   
  224:  			delay_ms(500);
  00e6 a6f4             LDA   #-12
  00e8 ae01             LDX   #1
  00ea cd0000           JSR   delay_ms
  225:  			desconexion();
  00ed cd0000           JSR   desconexion
  00f0          LF0:    
  226:  			while (teclado()>-1);
  00f0 cd0000           JSR   teclado
  00f3 4c               INCA  
  00f4 92fa             BGT   LF0 ;abs = 00f0
  00f6          LF6:    
  227:  		}
  228:  	
  229:  		if (bAperPuerta==TRUE)
  00f6 c60000           LDA   bAperPuerta
  00f9 4b28             DBNZA L123 ;abs = 0123
  230:  		{
  231:  			for (n=0;n<50 && bAperPuerta;n++) delay_ms(1);
  00fb 95               TSX   
  00fc 6f01             CLR   1,X
  00fe 7f               CLR   ,X
  00ff 2007             BRA   L108 ;abs = 0108
  0101          L101:   
  0101 cd019b           JSR   L19B ;abs = 019b
  0104 95               TSX   
  0105 2601             BNE   L108 ;abs = 0108
  0107 7c               INC   ,X
  0108          L108:   
  0108 cd01b8           JSR   L1B8 ;abs = 01b8
  010b 9005             BGE   L112 ;abs = 0112
  010d c60000           LDA   bAperPuerta
  0110 26ef             BNE   L101 ;abs = 0101
  0112          L112:   
  232:  			if (n>=49)
  0112 650031           CPHX  #49
  0115 910c             BLT   L123 ;abs = 0123
  233:  			{
  234:  				APERTURA_PUERTA=TRUE;
  0117 1800             BSET  4,_PTC
  0119 cd01b2           JSR   L1B2 ;abs = 01b2
  011c          L11C:   
  235:  				delay_ms(100);
  236:  				while (bAperPuerta)	//Mientras esté el subotono de apertura
  011c c60000           LDA   bAperPuerta
  011f 26fb             BNE   L11C ;abs = 011c
  237:  				{
  238:  					if (!bAperPuerta)	//Nos aseguramos de que realmente ya no hay subtono
  239:  						for (int i=0;i<500 && !bAperPuerta;i++) delay_ms(1);
  240:  				}
  241:  				APERTURA_PUERTA=FALSE;
  0121 1900             BCLR  4,_PTC
  0123          L123:   
  242:  			}
  243:  		}
  244:  		
  245:  		if (bSQL && !bFlag)	//Nos llaman
  0123 c60000           LDA   bSQL
  0126 2737             BEQ   L15F ;abs = 015f
  0128 95               TSX   
  0129 6d02             TST   2,X
  012b 2632             BNE   L15F ;abs = 015f
  246:  		{
  247:  			for (n=0;n<50 && bSQL;n++) delay_ms(1);
  012d 6f01             CLR   1,X
  012f 7f               CLR   ,X
  0130 2006             BRA   L138 ;abs = 0138
  0132          L132:   
  0132 ad67             BSR   L19B ;abs = 019b
  0134 95               TSX   
  0135 2601             BNE   L138 ;abs = 0138
  0137 7c               INC   ,X
  0138          L138:   
  0138 ad7e             BSR   L1B8 ;abs = 01b8
  013a 9005             BGE   L141 ;abs = 0141
  013c c60000           LDA   bSQL
  013f 26f1             BNE   L132 ;abs = 0132
  0141          L141:   
  248:  			if (n>=49)
  0141 650031           CPHX  #49
  0144 9119             BLT   L15F ;abs = 015f
  249:  			{
  250:  				PTT_ON;
  0146 1500             BCLR  2,_PTC
  0148 ad68             BSR   L1B2 ;abs = 01b2
  251:  				AUDIO_ENABLE;
  014a 1b00             BCLR  5,_PTC
  014c ad57             BSR   L1A5 ;abs = 01a5
  252:  				FX828.CTCSS_tx_enable (TRUE);//Transmitimos subtono
  253:  				FX828.EnableBPF (TRUE);		 //Habilitamos salida de audio rx
  014e 450000           LDHX  @FX828
  0151 89               PSHX  
  0152 8b               PSHH  
  0153 a601             LDA   #1
  0155 cd0000           JSR   EnableBPF
  0158 a702             AIS   #2
  254:  				bFlag = TRUE;
  015a a601             LDA   #1
  015c 95               TSX   
  015d e702             STA   2,X
  015f          L15F:   
  255:  			}
  256:  		}
  257:  		
  258:  		if (!bSQL && bFlag)	//Perdemos subtono
  015f c60000           LDA   bSQL
  0162 2634             BNE   L198 ;abs = 0198
  0164 95               TSX   
  0165 6d02             TST   2,X
  0167 272f             BEQ   L198 ;abs = 0198
  259:  		{
  260:  			AUDIO_DISABLE;
  0169 1a00             BSET  5,_PTC
  261:  			if (bFlag == TRUE)
  016b e602             LDA   2,X
  016d 4b29             DBNZA L198 ;abs = 0198
  262:  			{
  263:  				for (n=0;n<500 && !bSQL;n++) delay_ms(1);
  016f 6f01             CLR   1,X
  0171 7f               CLR   ,X
  0172 2006             BRA   L17A ;abs = 017a
  0174          L174:   
  0174 ad25             BSR   L19B ;abs = 019b
  0176 95               TSX   
  0177 2601             BNE   L17A ;abs = 017a
  0179 7c               INC   ,X
  017a          L17A:   
  017a 95               TSX   
  017b f6               LDA   ,X
  017c 87               PSHA  
  017d ee01             LDX   1,X
  017f 8a               PULH  
  0180 6501f4           CPHX  #500
  0183 9005             BGE   L18A ;abs = 018a
  0185 c60000           LDA   bSQL
  0188 27ea             BEQ   L174 ;abs = 0174
  018a          L18A:   
  264:  				if (n>=499)
  018a 6501f3           CPHX  #499
  018d 9107             BLT   L196 ;abs = 0196
  265:  				{
  266:  					desconexion();
  018f cd0000           JSR   desconexion
  267:  					bFlag = FALSE;				
  0192 95               TSX   
  0193 6f02             CLR   2,X
  268:  				}
  0195 65               SKIP2 L198 ;abs = 0198
  0196          L196:   
  269:  				else	
  270:  					AUDIO_ENABLE;
  0196 1b00             BCLR  5,_PTC
  0198          L198:   
  0198 cc008b           JMP   L8B ;abs = 008b
  019b          L19B:   
  019b a601             LDA   #1
  019d 5f               CLRX  
  019e cd0000           JSR   delay_ms
  01a1 95               TSX   
  01a2 6c03             INC   3,X
  01a4 81               RTS   
  01a5          L1A5:   
  01a5 450000           LDHX  @FX828
  01a8 89               PSHX  
  01a9 8b               PSHH  
  01aa a601             LDA   #1
  01ac cd0000           JSR   CTCSS_tx_enable
  01af a702             AIS   #2
  01b1 81               RTS   
  01b2          L1B2:   
  01b2 a664             LDA   #100
  01b4 5f               CLRX  
  01b5 cc0000           JMP   delay_ms
  01b8          L1B8:   
  01b8 95               TSX   
  01b9 e602             LDA   2,X
  01bb 87               PSHA  
  01bc ee03             LDX   3,X
  01be 8a               PULH  
  01bf 650032           CPHX  #50
  01c2 81               RTS   
  271:  			}
  272:  		}
  273:  	}
  274:  }
  275:  
  276:  #ifdef __cplusplu
  277:  	extern "C"
  278:  #endif
  279:  
  280:  void MainIRQ ()
  281:  {

Function: MainIRQ
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106

  282:  	byte tono;
  283:  	FX828.IRQService();
  0000 a600             LDA   @FX828
  0002 ae00             LDX   @FX828:MSB
  0004 cd0000           JSR   IRQService
  284:  	tono = FX828.GetTone();
  0007 a600             LDA   @FX828
  0009 ae00             LDX   @FX828:MSB
  000b cd0000           JSR   GetTone
  285:  
  286:  	switch (tono)
  000e a1ff             CMP   #-1
  0010 221c             BHI   L2E ;abs = 002e
  0012 97               TAX   
  0013 4f               CLRA  
  0014 cd0000           JSR   _Search_Table_8_Offset
  0017 ff               DC.B  -1
  0018 15               DC.B  L2E
  0019 00               DC.B  0
  001a 06               DC.B  L21
  001b 01               DC.B  1
  001c 0e               DC.B  L2B
  001d 0f               DC.B  15
  001e 0f               DC.B  L2E
  001f ff               DC.B  -1
  0020 0d               DC.B  L2E
  0021          L21:    
  287:  	{
  288:  		case 0:
  289:  			bSQL = TRUE;
  0021 a601             LDA   #1
  0023 c70000           STA   bSQL
  290:  			bAperPuerta=FALSE;
  0026 4f               CLRA  
  0027 c70000           STA   bAperPuerta
  291:  		break;
  002a 81               RTS   
  002b          L2B:    
  292:  		
  293:  		case 1:
  294:  			bAperPuerta = TRUE;
  002b a601             LDA   #1
  295:  			bSQL=FALSE;
  296:  		break;
  002d 21               SKIP1 L2F ;abs = 002f
  002e          L2E:    
  297:  
  298:  		case 0xFF:
  299:  		case UNKNOWN_TONE:
  300:  			bAperPuerta = FALSE;
  301:  			bSQL = FALSE;
  302:  		break;
  303:  
  304:  		default:
  305:  			bAperPuerta = FALSE;
  002e 4f               CLRA  
  002f          L2F:    
  002f c70000           STA   bAperPuerta
  306:  			bSQL = FALSE;
  0032 4f               CLRA  
  0033 c70000           STA   bSQL
  307:  		break;
  308:  	
  309:  	}
  310:  }
  0036 81               RTS   

Function: __ConstructorInit__
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 a600             LDA   @FX828
  0002 ae00             LDX   @FX828:MSB
  0004 cc0000           JMP   CONSTRUCTOR

Function: __DestructorInit__
Source  : Z:\vph1\Cobra Sistemas\Calle\Code\main.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\Cobra Sistemas\Calle;Z:\vph1\Cobra Sistemas\Calle\bin;Z:\vph1\Cobra Sistemas\Calle\cmd;*Z:\vph1\Cobra Sistemas\Calle\Code;Z:\vph1\Cobra Sistemas\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\Cobra Sistemas\Comun;D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior HC08_V2.0\lib\HC08c\INCLUDE" -Env"OBJPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Env"TEXTPATH=Z:\vph1\Cobra Sistemas\Calle\bin" -Lasm=%n.lst -ObjN="Z:\vph1\Cobra Sistemas\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\main.cpp.o" -WmsgSd1106


No source information available for functions created by the compiler internally
  0000 a600             LDA   @FX828
  0002 ae00             LDX   @FX828:MSB
  0004 cc0000           JMP   DESTRUCTOR
  311:  
  312:  /* END vph1 */
  313:  /*
  314:  ** ###################################################################
  315:  **
  316:  **     This file was created by UNIS Processor Expert 02.89 for 
  317:  **     the Motorola HC08 series of microcontrollers.
  318:  **
  319:  ** ###################################################################
  320:  */
  321:  
