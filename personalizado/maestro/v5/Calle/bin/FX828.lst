ANSI-C/cC++ Compiler for HC08 V-5.0.17, Apr 22 2003

    1:  #include "FX828.H"
    2:  #include "stdlib.h"
    3:  #include "ctype.h"
    4:  #include "io_map.h"
    5:  
    6:  
    7:  #define XTAL	4032000
    8:  
    9:  			

Function: CBuffer::CBuffer( const CBuffer&)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 f6               LDA   ,X
  0006 87               PSHA  
  0007 95               TSX   
  0008 e605             LDA   5,X
  000a 87               PSHA  
  000b ee06             LDX   6,X
  000d 8a               PULH  
  000e 86               PULA  
  000f f7               STA   ,X
  0010 ad32             BSR   L44 ;abs = 0044
  0012 e601             LDA   1,X
  0014 ad25             BSR   L3B ;abs = 003b
  0016 e701             STA   1,X
  0018 ad2a             BSR   L44 ;abs = 0044
  001a e602             LDA   2,X
  001c ad1d             BSR   L3B ;abs = 003b
  001e e702             STA   2,X
  0020 ad22             BSR   L44 ;abs = 0044
  0022 e603             LDA   3,X
  0024 ad15             BSR   L3B ;abs = 003b
  0026 e703             STA   3,X
  0028 ad1a             BSR   L44 ;abs = 0044
  002a e604             LDA   4,X
  002c ad0d             BSR   L3B ;abs = 003b
  002e e704             STA   4,X
  0030 ad12             BSR   L44 ;abs = 0044
  0032 e605             LDA   5,X
  0034 ad05             BSR   L3B ;abs = 003b
  0036 e705             STA   5,X
  0038 a702             AIS   #2
  003a 81               RTS   
  003b          L3B:    
  003b 95               TSX   
  003c ee06             LDX   6,X
  003e 89               PSHX  
  003f 95               TSX   
  0040 ee08             LDX   8,X
  0042 8a               PULH  
  0043 81               RTS   
  0044          L44:    
  0044 95               TSX   
  0045 e602             LDA   2,X
  0047 87               PSHA  
  0048 ee03             LDX   3,X
  004a 8a               PULH  
  004b 81               RTS   

Function: CBuffer::operator =( const CBuffer&)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 f6               LDA   ,X
  0006 ad2f             BSR   L37 ;abs = 0037
  0008 f7               STA   ,X
  0009 ad35             BSR   L40 ;abs = 0040
  000b e601             LDA   1,X
  000d ad28             BSR   L37 ;abs = 0037
  000f e701             STA   1,X
  0011 ad2d             BSR   L40 ;abs = 0040
  0013 e602             LDA   2,X
  0015 ad20             BSR   L37 ;abs = 0037
  0017 e702             STA   2,X
  0019 ad25             BSR   L40 ;abs = 0040
  001b e603             LDA   3,X
  001d ad18             BSR   L37 ;abs = 0037
  001f e703             STA   3,X
  0021 ad1d             BSR   L40 ;abs = 0040
  0023 e604             LDA   4,X
  0025 ad10             BSR   L37 ;abs = 0037
  0027 e704             STA   4,X
  0029 ad15             BSR   L40 ;abs = 0040
  002b e605             LDA   5,X
  002d ad08             BSR   L37 ;abs = 0037
  002f e705             STA   5,X
  0031 9f               TXA   
  0032 8b               PSHH  
  0033 88               PULX  
  0034 a702             AIS   #2
  0036 81               RTS   
  0037          L37:    
  0037 95               TSX   
  0038 ee06             LDX   6,X
  003a 89               PSHX  
  003b 95               TSX   
  003c ee08             LDX   8,X
  003e 8a               PULH  
  003f 81               RTS   
  0040          L40:    
  0040 95               TSX   
  0041 e602             LDA   2,X
  0043 87               PSHA  
  0044 ee03             LDX   3,X
  0046 8a               PULH  
  0047 81               RTS   
    1:  #include <ctype.h>
    2:  #include "buffer.h"
    3:  
    4:  #define BUFFER_FULL	-2
    5:  #define ERROR		-1
    6:  
    7:  #define	GENERAL_RESET			0x01
    8:  #define SIGNALLING_CONTROL		0x80
    9:  #define SELCALL_SUBAUDIO_STATUS 0x81
   10:  #define	SIGNALLING_SETUP		0x82
   11:  #define CTSS_TX_FAST_RX_FREQ	0x83
   12:  #define	RX_TONE_PROGRAM			0x84
   13:  #define	DCSbyte3				0x85
   14:  #define	DCSbyte2				0x86
   15:  #define	DCSbyte1				0x87
   16:  #define GENERAL_CONTROL			0x88
   17:  #define	AUDIO_CONTROL			0x8A
   18:  #define GENERAL_PURPOSE_TIMER	0x8B
   19:  #define	SELCALL_TX				0x8D
   20:  #define	IRQ_MASK				0x8E
   21:  #define IRQ_FLAG				0x8F
   22:  
   23:  #define CTCSS_MODE	 			0
   24:  #define SELCALL_MODE 			1
   25:  
   26:  #define chip_select_ClrVal() (PTC &= ~64)
   27:  #define chip_select_SetVal() (PTC |= 64)
   28:  #define DataIn_GetVal() ((PTD) & 2)
   29:  
   30:  #define DETECT_MODE		0
   31:  #define	PREDICTIVE_MODE	1
   32:  #define	UNKNOWN_TONE	0x0f
   33:  
   34:  #ifdef __cplusplus
   35:  
   36:  class CFX828
   37:  {
   38:  	public:
   39:  		CFX828 ();
   40:  		~CFX828 ();
   41:  		
   42:  		void Init ();
   43:  		int  TxZVEI (const unsigned char *);
   44:  		int	 TxZVEI (const unsigned char tono);
   45:  		BOOL IsTxBufferEmpty();
   46:  		void ProgramFastCTCSS (float tono);
   47:  		void CTCSS_tx_enable (unsigned char enable);
   48:  		void PutToneTable (unsigned char pos, int tono);
   49:  		void SetDecoderBandwidth (unsigned char width);
   50:  		void EnableToneDecoder (BOOL enable, BOOL mode);
   51:  		void EnableCTCSSDecoder (BOOL enable, BOOL mode);
   52:  		void IRQService ();
   53:  		char GetTone ();
   54:  		BOOL CTCSS_Detected (void);
   55:  		void SetRepeatTone (unsigned char tono = 0xe) {_RepeatTone = tono;}

Function: CFX828::SetRepeatTone( unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.H
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o

  0000 87               PSHA  
  0001 95               TSX   
  0002 e603             LDA   3,X
  0004 87               PSHA  
  0005 ee04             LDX   4,X
  0007 9ee602           LDA   2,SP
  000a 8a               PULH  
  000b e704             STA   4,X
  000d 8a               PULH  
  000e 81               RTS   

Function: CFX828::CFX828( const CFX828&)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 f6               LDA   ,X
  0006 87               PSHA  
  0007 95               TSX   
  0008 e605             LDA   5,X
  000a 87               PSHA  
  000b ee06             LDX   6,X
  000d 8a               PULH  
  000e 86               PULA  
  000f f7               STA   ,X
  0010 ad2a             BSR   L3C ;abs = 003c
  0012 e601             LDA   1,X
  0014 ad1d             BSR   L33 ;abs = 0033
  0016 e701             STA   1,X
  0018 ad22             BSR   L3C ;abs = 003c
  001a e602             LDA   2,X
  001c ad15             BSR   L33 ;abs = 0033
  001e e702             STA   2,X
  0020 ad1a             BSR   L3C ;abs = 003c
  0022 e603             LDA   3,X
  0024 ad0d             BSR   L33 ;abs = 0033
  0026 e703             STA   3,X
  0028 ad12             BSR   L3C ;abs = 003c
  002a e604             LDA   4,X
  002c ad05             BSR   L33 ;abs = 0033
  002e e704             STA   4,X
  0030 a702             AIS   #2
  0032 81               RTS   
  0033          L33:    
  0033 95               TSX   
  0034 ee06             LDX   6,X
  0036 89               PSHX  
  0037 95               TSX   
  0038 ee08             LDX   8,X
  003a 8a               PULH  
  003b 81               RTS   
  003c          L3C:    
  003c 95               TSX   
  003d e602             LDA   2,X
  003f 87               PSHA  
  0040 ee03             LDX   3,X
  0042 8a               PULH  
  0043 81               RTS   

Function: CFX828::operator =( const CFX828&)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o


No source information available for functions created by the compiler internally
  0000 87               PSHA  
  0001 89               PSHX  
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 f6               LDA   ,X
  0006 ad27             BSR   L2F ;abs = 002f
  0008 f7               STA   ,X
  0009 ad2d             BSR   L38 ;abs = 0038
  000b e601             LDA   1,X
  000d ad20             BSR   L2F ;abs = 002f
  000f e701             STA   1,X
  0011 ad25             BSR   L38 ;abs = 0038
  0013 e602             LDA   2,X
  0015 ad18             BSR   L2F ;abs = 002f
  0017 e702             STA   2,X
  0019 ad1d             BSR   L38 ;abs = 0038
  001b e603             LDA   3,X
  001d ad10             BSR   L2F ;abs = 002f
  001f e703             STA   3,X
  0021 ad15             BSR   L38 ;abs = 0038
  0023 e604             LDA   4,X
  0025 ad08             BSR   L2F ;abs = 002f
  0027 e704             STA   4,X
  0029 9f               TXA   
  002a 8b               PSHH  
  002b 88               PULX  
  002c a702             AIS   #2
  002e 81               RTS   
  002f          L2F:    
  002f 95               TSX   
  0030 ee06             LDX   6,X
  0032 89               PSHX  
  0033 95               TSX   
  0034 ee08             LDX   8,X
  0036 8a               PULH  
  0037 81               RTS   
  0038          L38:    
  0038 95               TSX   
  0039 e602             LDA   2,X
  003b 87               PSHA  
  003c ee03             LDX   3,X
  003e 8a               PULH  
  003f 81               RTS   
   10:  const int ZVEI[] = {0x01a4,	//0
   11:  				  0x03b7,	//1
   12:  				  0x0365,	//2
   13:  				  0x031a,	//3
   14:  				  0x02d0,	//4
   15:  				  0x0293,	//5
   16:  				  0x025c,	//6
   17:  				  0x0227,	//7
   18:  				  0x01f8,	//8
   19:  				  0x01ca,	//9
   20:  				  0x0168,	//a
   21:  				  0x04dc,	//b
   22:  				  0x040f,	//c
   23:  				  0x0473,	//d
   24:  				  0x0184};	//e
   25:  
   26:  
   27:  CFX828::CFX828 ()
   28:  {

Function: CFX828::CFX828( void)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

   29:  	Init();
  0000 cc0000           JMP   Init
   30:  }
   31:  
   32:  CFX828::~CFX828 ()
   33:  {

Function: CFX828::~CFX828( void)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
   34:  	delete _bufferTX;
   35:  	delete _bufferRX;
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 fe               LDX   ,X
  0006 89               PSHX  
  0007 97               TAX   
  0008 e601             LDA   1,X
  000a 88               PULX  
  000b ad22             BSR   L2F ;abs = 002f
  000d f6               LDA   ,X
  000e 87               PSHA  
  000f e601             LDA   1,X
  0011 88               PULX  
  0012 cd0000           JSR   delete
   36:  }
  0015 95               TSX   
  0016 f6               LDA   ,X
  0017 87               PSHA  
  0018 ee01             LDX   1,X
  001a 8a               PULH  
  001b e602             LDA   2,X
  001d 87               PSHA  
  001e e603             LDA   3,X
  0020 88               PULX  
  0021 ad0c             BSR   L2F ;abs = 002f
  0023 e602             LDA   2,X
  0025 87               PSHA  
  0026 e603             LDA   3,X
  0028 88               PULX  
  0029 cd0000           JSR   delete
  002c a702             AIS   #2
  002e 81               RTS   
  002f          L2F:    
  002f cd0000           JSR   DESTRUCTOR
  0032 95               TSX   
  0033 e602             LDA   2,X
  0035 87               PSHA  
  0036 ee03             LDX   3,X
  0038 8a               PULH  
  0039 81               RTS   
   37:  
   38:  void CFX828::PutToneTable (unsigned char pos, int tono)
   39:  {

Function: CFX828::PutToneTable( unsigned char, int)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  0002 a7fe             AIS   #-2
   40:  	int val = pos;
  0004 95               TSX   
  0005 e606             LDA   6,X
  0007 e701             STA   1,X
  0009 7f               CLR   ,X
   41:  	val = val <<12;
  000a a60c             LDA   #12
  000c          LC:     
  000c 6801             LSL   1,X
  000e 79               ROL   ,X
  000f 4bfb             DBNZA LC ;abs = 000c
   42:  	val |= tono;
  0011 e603             LDA   3,X
  0013 ea01             ORA   1,X
  0015 e701             STA   1,X
  0017 f6               LDA   ,X
  0018 ea02             ORA   2,X
  001a f7               STA   ,X
   43:  	
   44:  	SendCommand16 (RX_TONE_PROGRAM,val);
  001b ee08             LDX   8,X
  001d 89               PSHX  
  001e 95               TSX   
  001f ee08             LDX   8,X
  0021 89               PSHX  
  0022 ae84             LDX   #-124
  0024 89               PSHX  
  0025 97               TAX   
  0026 9ee605           LDA   5,SP
  0029 cd0000           JSR   SendCommand16
   45:  }
  002c a707             AIS   #7
  002e 81               RTS   
   46:  
   47:  void CFX828::SetDecoderBandwidth (unsigned char width)
   48:  {

Function: CFX828::SetDecoderBandwidth( unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

   49:  	signalling_setup.bit._tonde_decode_wandwitch = width;	
  0000 62               NSA   
  0001 a4f0             AND   #-16
  0003 450000           LDHX  @signalling_setup
  0006 f8               EOR   ,X
  0007 a4f0             AND   #-16
  0009 f8               EOR   ,X
  000a f7               STA   ,X
   50:  	SendCommand8 (SIGNALLING_SETUP,signalling_setup.valor);
  000b 95               TSX   
  000c ee03             LDX   3,X
  000e 89               PSHX  
  000f 95               TSX   
  0010 ee03             LDX   3,X
  0012 89               PSHX  
  0013 a682             LDA   #-126
  0015 ce0000           LDX   signalling_setup
  0018 cd0000           JSR   SendCommand8
  001b a702             AIS   #2
   51:  }
  001d 81               RTS   
   52:  
   53:  void CFX828::EnableCTCSSDecoder (BOOL enable, BOOL mode)
   54:  {

Function: CFX828::EnableCTCSSDecoder( unsigned char, unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
   55:  	if (!enable)
  0002 95               TSX   
  0003 6d01             TST   1,X
  0005 2604             BNE   LB ;abs = 000b
   56:  		selcall_subaudio_status.valor = 0;
  0007 4f               CLRA  
  0008 c70000           STA   selcall_subaudio_status
  000b          LB:     
   57:  	
   58:  	signalling_control.bit._fast_detect_enable = enable;
  000b e601             LDA   1,X
  000d a501             BIT   #1
  000f 2607             BNE   L18 ;abs = 0018
  0011 c60000           LDA   signalling_control
  0014 a4df             AND   #-33
  0016 2005             BRA   L1D ;abs = 001d
  0018          L18:    
  0018 c60000           LDA   signalling_control
  001b aa20             ORA   #32
  001d          L1D:    
  001d c70000           STA   signalling_control
   59:  	SendCommand8 (SIGNALLING_CONTROL,signalling_control.valor);
  0020 e605             LDA   5,X
  0022 87               PSHA  
  0023 e604             LDA   4,X
  0025 87               PSHA  
  0026 a680             LDA   #-128
  0028 ce0000           LDX   signalling_control
  002b cd0000           JSR   SendCommand8
  002e a702             AIS   #2
   60:  	
   61:  	signalling_setup.bit._fast_ctcss_mode = mode;
  0030 95               TSX   
  0031 f6               LDA   ,X
  0032 a501             BIT   #1
  0034 2607             BNE   L3D ;abs = 003d
  0036 c60000           LDA   signalling_setup
  0039 a4f7             AND   #-9
  003b 2005             BRA   L42 ;abs = 0042
  003d          L3D:    
  003d c60000           LDA   signalling_setup
  0040 aa08             ORA   #8
  0042          L42:    
  0042 c70000           STA   signalling_setup
   62:  	SendCommand8 (SIGNALLING_SETUP,signalling_setup.valor);
  0045 e605             LDA   5,X
  0047 87               PSHA  
  0048 e604             LDA   4,X
  004a 87               PSHA  
  004b a682             LDA   #-126
  004d ce0000           LDX   signalling_setup
  0050 cd0000           JSR   SendCommand8
  0053 a702             AIS   #2
   63:  
   64:  	irq_mask.bit._ctcss_fast = enable;
  0055 95               TSX   
  0056 e601             LDA   1,X
  0058 a501             BIT   #1
  005a 2607             BNE   L63 ;abs = 0063
  005c c60000           LDA   irq_mask
  005f a4fb             AND   #-5
  0061 2005             BRA   L68 ;abs = 0068
  0063          L63:    
  0063 c60000           LDA   irq_mask
  0066 aa04             ORA   #4
  0068          L68:    
  0068 c70000           STA   irq_mask
   65:  	SendCommand8 (IRQ_MASK,irq_mask.valor);
  006b e605             LDA   5,X
  006d 87               PSHA  
  006e e604             LDA   4,X
  0070 87               PSHA  
  0071 a68e             LDA   #-114
  0073 ce0000           LDX   irq_mask
  0076 cd0000           JSR   SendCommand8
   66:  
   67:  }
  0079 a704             AIS   #4
  007b 81               RTS   
   68:  
   69:  BOOL CFX828::CTCSS_Detected (void)
   70:  {

Function: CFX828::CTCSS_Detected( void)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

   71:  	return selcall_subaudio_status.bit._ctcss_fast;
  0000 c60000           LDA   selcall_subaudio_status
  0003 a540             BIT   #64
  0005 2602             BNE   L9 ;abs = 0009
  0007 4f               CLRA  
  0008 81               RTS   
  0009          L9:     
  0009 a601             LDA   #1
   72:  	
   73:  }
  000b 81               RTS   
   74:  void CFX828::EnableToneDecoder (BOOL enable, BOOL mode)
   75:  {

Function: CFX828::EnableToneDecoder( unsigned char, unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
   76:  	signalling_control.bit._tone_decoder_enable = enable;
  0002 a501             BIT   #1
  0004 2607             BNE   LD ;abs = 000d
  0006 c60000           LDA   signalling_control
  0009 a4bf             AND   #-65
  000b 2005             BRA   L12 ;abs = 0012
  000d          LD:     
  000d c60000           LDA   signalling_control
  0010 aa40             ORA   #64
  0012          L12:    
  0012 c70000           STA   signalling_control
   77:  	SendCommand8 (SIGNALLING_CONTROL,signalling_control.valor);
  0015 95               TSX   
  0016 e605             LDA   5,X
  0018 87               PSHA  
  0019 e604             LDA   4,X
  001b 87               PSHA  
  001c a680             LDA   #-128
  001e ce0000           LDX   signalling_control
  0021 cd0000           JSR   SendCommand8
  0024 a702             AIS   #2
   78:  	
   79:  	signalling_setup.bit._tone_decoder_mode = mode;
  0026 95               TSX   
  0027 f6               LDA   ,X
  0028 a501             BIT   #1
  002a 2607             BNE   L33 ;abs = 0033
  002c c60000           LDA   signalling_setup
  002f a4fb             AND   #-5
  0031 2005             BRA   L38 ;abs = 0038
  0033          L33:    
  0033 c60000           LDA   signalling_setup
  0036 aa04             ORA   #4
  0038          L38:    
  0038 c70000           STA   signalling_setup
   80:  	SendCommand8 (SIGNALLING_SETUP,signalling_setup.valor);
  003b e605             LDA   5,X
  003d 87               PSHA  
  003e e604             LDA   4,X
  0040 87               PSHA  
  0041 a682             LDA   #-126
  0043 ce0000           LDX   signalling_setup
  0046 cd0000           JSR   SendCommand8
  0049 a702             AIS   #2
   81:  
   82:  	irq_mask.bit._tone = enable;
  004b 95               TSX   
  004c e601             LDA   1,X
  004e a501             BIT   #1
  0050 2607             BNE   L59 ;abs = 0059
  0052 c60000           LDA   irq_mask
  0055 a4f7             AND   #-9
  0057 2005             BRA   L5E ;abs = 005e
  0059          L59:    
  0059 c60000           LDA   irq_mask
  005c aa08             ORA   #8
  005e          L5E:    
  005e c70000           STA   irq_mask
   83:  	SendCommand8 (IRQ_MASK,irq_mask.valor);
  0061 e605             LDA   5,X
  0063 87               PSHA  
  0064 e604             LDA   4,X
  0066 87               PSHA  
  0067 a68e             LDA   #-114
  0069 ce0000           LDX   irq_mask
  006c cd0000           JSR   SendCommand8
   84:  }
  006f a704             AIS   #4
  0071 81               RTS   
   85:  
   86:  void CFX828::Mod1Enable (BOOL enable, char gain)
   87:  {

Function: CFX828::Mod1Enable( unsigned char, unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 89               PSHX  
   88:  	audio_control.bit._mod1_enable = enable;
  0001 a501             BIT   #1
  0003 2607             BNE   LC ;abs = 000c
  0005 c60000           LDA   audio_control
  0008 a4df             AND   #-33
  000a 2005             BRA   L11 ;abs = 0011
  000c          LC:     
  000c c60000           LDA   audio_control
  000f aa20             ORA   #32
  0011          L11:    
  0011 c70000           STA   audio_control
   89:  	audio_control.bit._mod1_gain = gain;
  0014 95               TSX   
  0015 f8               EOR   ,X
  0016 a41f             AND   #31
  0018 c80000           EOR   audio_control
  001b c70000           STA   audio_control
   90:  	SendCommand16 (AUDIO_CONTROL,audio_control.valor);
  001e ee04             LDX   4,X
  0020 89               PSHX  
  0021 95               TSX   
  0022 ee04             LDX   4,X
  0024 89               PSHX  
  0025 ae8a             LDX   #-118
  0027 89               PSHX  
  0028 c60001           LDA   audio_control:1
  002b ce0000           LDX   audio_control
  002e cd0000           JSR   SendCommand16
   91:  }
  0031 a704             AIS   #4
  0033 81               RTS   
   92:  
   93:  void CFX828::Mod2Enable (BOOL enable, char gain)
   94:  {

Function: CFX828::Mod2Enable( unsigned char, unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 89               PSHX  
   95:  	audio_control.bit._mod2_enable = enable;
  0001 a501             BIT   #1
  0003 2607             BNE   LC ;abs = 000c
  0005 c60001           LDA   audio_control:1
  0008 a4df             AND   #-33
  000a 2005             BRA   L11 ;abs = 0011
  000c          LC:     
  000c c60001           LDA   audio_control:1
  000f aa20             ORA   #32
  0011          L11:    
  0011 c70001           STA   audio_control:1
   96:  	audio_control.bit._mod2_gain = gain;
  0014 95               TSX   
  0015 f8               EOR   ,X
  0016 a41f             AND   #31
  0018 c80001           EOR   audio_control:1
  001b c70001           STA   audio_control:1
   97:  	SendCommand16 (AUDIO_CONTROL,audio_control.valor);
  001e ee04             LDX   4,X
  0020 89               PSHX  
  0021 95               TSX   
  0022 ee04             LDX   4,X
  0024 89               PSHX  
  0025 ae8a             LDX   #-118
  0027 89               PSHX  
  0028 ce0000           LDX   audio_control
  002b cd0000           JSR   SendCommand16
   98:  }
  002e a704             AIS   #4
  0030 81               RTS   
   99:  
  100:  void CFX828::EnableBPF (BOOL enable)
  101:  {

Function: CFX828::EnableBPF( unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  102:  	general_control.bit._bpf_unmute = enable;
  0001 a501             BIT   #1
  0003 2607             BNE   LC ;abs = 000c
  0005 c60000           LDA   general_control
  0008 a4bf             AND   #-65
  000a 2005             BRA   L11 ;abs = 0011
  000c          LC:     
  000c c60000           LDA   general_control
  000f aa40             ORA   #64
  0011          L11:    
  0011 c70000           STA   general_control
  103:  	general_control.bit._bpf_enable = enable;
  0014 95               TSX   
  0015 f6               LDA   ,X
  0016 a501             BIT   #1
  0018 2607             BNE   L21 ;abs = 0021
  001a c60000           LDA   general_control
  001d a47f             AND   #127
  001f 2005             BRA   L26 ;abs = 0026
  0021          L21:    
  0021 c60000           LDA   general_control
  0024 aa80             ORA   #-128
  0026          L26:    
  0026 c70000           STA   general_control
  104:  	SendCommand8 (GENERAL_CONTROL,general_control.valor);
  0029 e604             LDA   4,X
  002b 87               PSHA  
  002c e603             LDA   3,X
  002e 87               PSHA  
  002f a688             LDA   #-120
  0031 ce0000           LDX   general_control
  0034 cd0000           JSR   SendCommand8
  105:  }
  0037 a703             AIS   #3
  0039 81               RTS   
  106:  
  107:  void CFX828::Init ()
  108:  {

Function: CFX828::Init( void)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  0002 8b               PSHH  
  109:  	_bufferTX = new CBuffer(10);
  0003 a606             LDA   #6
  0005 5f               CLRX  
  0006 cd0000           JSR   new
  0009 87               PSHA  
  000a 9ee603           LDA   3,SP
  000d 87               PSHA  
  000e 8a               PULH  
  000f 89               PSHX  
  0010 9eee05           LDX   5,SP
  0013 86               PULA  
  0014 f7               STA   ,X
  0015 9ee601           LDA   1,SP
  0018 e701             STA   1,X
  001a f6               LDA   ,X
  001b 95               TSX   
  001c e701             STA   1,X
  001e 87               PSHA  
  001f a60a             LDA   #10
  0021 5f               CLRX  
  0022 cd0000           JSR   CONSTRUCTOR
  0025 a702             AIS   #2
  110:  	_bufferRX = new CBuffer(10);
  0027 a606             LDA   #6
  0029 5f               CLRX  
  002a cd0000           JSR   new
  002d 87               PSHA  
  002e 9ee603           LDA   3,SP
  0031 87               PSHA  
  0032 9ee602           LDA   2,SP
  0035 8a               PULH  
  0036 89               PSHX  
  0037 9eee05           LDX   5,SP
  003a e703             STA   3,X
  003c 9ee601           LDA   1,SP
  003f e702             STA   2,X
  0041 95               TSX   
  0042 e601             LDA   1,X
  0044 87               PSHA  
  0045 f6               LDA   ,X
  0046 87               PSHA  
  0047 a60a             LDA   #10
  0049 5f               CLRX  
  004a cd0000           JSR   CONSTRUCTOR
  004d a702             AIS   #2
  111:  	
  112:  	signalling_control.valor=0;
  004f 4f               CLRA  
  0050 c70000           STA   signalling_control
  113:  	signalling_setup.valor=0;
  0053 c70000           STA   signalling_setup
  114:  	general_control.valor=0;
  0056 c70000           STA   general_control
  115:  	irq_mask.valor=0;
  0059 c70000           STA   irq_mask
  116:  	ctcss_tx_fast_rx_freq.valor=0;
  005c c70001           STA   ctcss_tx_fast_rx_freq:1
  005f c70000           STA   ctcss_tx_fast_rx_freq
  117:  	rx_tone_program.valor=0;
  0062 c70001           STA   rx_tone_program:1
  0065 c70000           STA   rx_tone_program
  118:  	audio_control.valor=0;
  0068 c70001           STA   audio_control:1
  006b c70000           STA   audio_control
  119:  	selcall_tx.valor=0;
  006e c70001           STA   selcall_tx:1
  0071 c70000           STA   selcall_tx
  120:  
  121:  	_RepeatTone = 0xE;
  0074 a60e             LDA   #14
  0076 95               TSX   
  0077 ee03             LDX   3,X
  0079 89               PSHX  
  007a 95               TSX   
  007b ee05             LDX   5,X
  007d 8a               PULH  
  007e e704             STA   4,X
  122:  	
  123:  	DDRD_DDRD0 = 0;
  0080 1100             BCLR  0,_DDRD
  124:  	DDRD_DDRD1 = 0;
  0082 1300             BCLR  1,_DDRD
  125:  	DDRD_DDRD2 = 1;
  0084 1400             BSET  2,_DDRD
  126:  	DDRD_DDRD3 = 1;
  0086 1600             BSET  3,_DDRD
  127:  	
  128:  	DDRC_DDRC6 = 1;
  0088 1c00             BSET  6,_DDRC
  129:  	
  130:      Clock_PutVal(1);
  008a 89               PSHX  
  008b 8b               PSHH  
  008c a601             LDA   #1
  008e cd0000           JSR   Clock_PutVal
  0091 a702             AIS   #2
  131:  	chip_select_ClrVal ();
  0093 1d00             BCLR  6,_PTC
  132:  	SendChar ((unsigned char)GENERAL_RESET);
  0095 95               TSX   
  0096 e604             LDA   4,X
  0098 87               PSHA  
  0099 ee03             LDX   3,X
  009b 89               PSHX  
  009c a601             LDA   #1
  009e cd0000           JSR   SendChar
  00a1 a702             AIS   #2
  133:  	chip_select_SetVal ();
  00a3 1c00             BSET  6,_PTC
  134:  
  135:  	//Interrupción cada 100ms.
  136:  	//Cada tono de ZVEI será de duración un tick de timer.
  137:  	SendCommand8 (GENERAL_PURPOSE_TIMER,(unsigned char)70);
  00a5 95               TSX   
  00a6 e604             LDA   4,X
  00a8 87               PSHA  
  00a9 ee03             LDX   3,X
  00ab 89               PSHX  
  00ac a68b             LDA   #-117
  00ae ae46             LDX   #70
  00b0 cd0000           JSR   SendCommand8
  00b3 a702             AIS   #2
  138:  
  139:  	//El contador del timer se auto recicla.
  140:  	general_control.bit._gp_timer_enable = TRUE;
  00b5 450000           LDHX  @general_control
  00b8 f6               LDA   ,X
  00b9 aa02             ORA   #2
  00bb f7               STA   ,X
  141:  	general_control.bit._gp_timer_recycle = TRUE;
  00bc aa01             ORA   #1
  00be f7               STA   ,X
  142:  	SendCommand8 (GENERAL_CONTROL,general_control.valor);	
  00bf 95               TSX   
  00c0 ee04             LDX   4,X
  00c2 89               PSHX  
  00c3 95               TSX   
  00c4 ee04             LDX   4,X
  00c6 89               PSHX  
  00c7 a688             LDA   #-120
  00c9 ce0000           LDX   general_control
  00cc cd0000           JSR   SendCommand8
  00cf a702             AIS   #2
  143:  	
  144:  	//Desactivamos la interrupción para el GENERAL PURPOSE TIMER
  145:  	irq_mask.bit._gp_timer = FALSE;
  00d1 450000           LDHX  @irq_mask
  00d4 f6               LDA   ,X
  00d5 a4bf             AND   #-65
  00d7 f7               STA   ,X
  146:  	SendCommand8 (IRQ_MASK,irq_mask.valor);
  00d8 95               TSX   
  00d9 ee04             LDX   4,X
  00db 89               PSHX  
  00dc 95               TSX   
  00dd ee04             LDX   4,X
  00df 89               PSHX  
  00e0 a68e             LDA   #-114
  00e2 ce0000           LDX   irq_mask
  00e5 cd0000           JSR   SendCommand8
  147:  	
  148:  }
  00e8 a707             AIS   #7
  00ea 81               RTS   
  149:  
  150:  void CFX828::CTCSS_tx_enable (BOOL enable)
  151:  {

Function: CFX828::CTCSS_tx_enable( unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  152:  	signalling_control.bit._subaudio_tx_enable=enable;
  0000 a501             BIT   #1
  0002 2607             BNE   LB ;abs = 000b
  0004 c60000           LDA   signalling_control
  0007 a47f             AND   #127
  0009 2005             BRA   L10 ;abs = 0010
  000b          LB:     
  000b c60000           LDA   signalling_control
  000e aa80             ORA   #-128
  0010          L10:    
  0010 c70000           STA   signalling_control
  153:  	CFX828::SendCommand8 (SIGNALLING_CONTROL,signalling_control.valor);	
  0013 95               TSX   
  0014 e603             LDA   3,X
  0016 87               PSHA  
  0017 e602             LDA   2,X
  0019 87               PSHA  
  001a a680             LDA   #-128
  001c ce0000           LDX   signalling_control
  001f cd0000           JSR   SendCommand8
  0022 a702             AIS   #2
  154:  }
  0024 81               RTS   
  155:  
  156:  void CFX828::ProgramFastCTCSS (float tono)
  157:  {

Function: CFX828::ProgramFastCTCSS( float)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  158:  	// a = fXTAL (hz) / (16 * fTONE (hz))
  159:  	int a;
  160:  	
  161:  	a = XTAL / (16 * tono);
  0000 95               TSX   
  0001 af02             AIX   #2
  0003 cd0000           JSR   _FMUL_RC
  0006 41800000         DC.L  1098907648
  000a 95               TSX   
  000b cd0000           JSR   _FDIV_LC
  000e 4a761800         DC.L  1249253376
  0012 95               TSX   
  0013 cd0000           JSR   _FSTRUNC
  162:  	ctcss_tx_fast_rx_freq.bit._ctss_tx_fast_rx_frequency = a;
  0016 95               TSX   
  0017 e603             LDA   3,X
  0019 c80001           EOR   ctcss_tx_fast_rx_freq:1
  001c 87               PSHA  
  001d e602             LDA   2,X
  001f c80000           EOR   ctcss_tx_fast_rx_freq
  0022 a41f             AND   #31
  0024 87               PSHA  
  0025 95               TSX   
  0026 e601             LDA   1,X
  0028 c80001           EOR   ctcss_tx_fast_rx_freq:1
  002b c70001           STA   ctcss_tx_fast_rx_freq:1
  002e 86               PULA  
  002f c80000           EOR   ctcss_tx_fast_rx_freq
  0032 c70000           STA   ctcss_tx_fast_rx_freq
  163:  	CFX828::SendCommand16 (CTSS_TX_FAST_RX_FREQ,ctcss_tx_fast_rx_freq.valor);
  0035 ee15             LDX   21,X
  0037 89               PSHX  
  0038 95               TSX   
  0039 ee14             LDX   20,X
  003b 89               PSHX  
  003c ae83             LDX   #-125
  003e 89               PSHX  
  003f 97               TAX   
  0040 c60001           LDA   ctcss_tx_fast_rx_freq:1
  0043 cd0000           JSR   SendCommand16
  0046 a710             AIS   #16
  164:  }
  0048 81               RTS   
  165:  
  166:  int CFX828::TxZVEI (const unsigned char tono)
  167:  {

Function: CFX828::TxZVEI( const unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 ad71             BSR   L74 ;abs = 0074
  168:  	if (_bufferTX->GetLen()>9)
  0003 f6               LDA   ,X
  0004 87               PSHA  
  0005 e601             LDA   1,X
  0007 88               PULX  
  0008 cd0000           JSR   GetLen
  000b 89               PSHX  
  000c 8a               PULH  
  000d 97               TAX   
  000e 650009           CPHX  #9
  0011 9306             BLE   L19 ;abs = 0019
  169:  		return BUFFER_FULL;
  0013 a6fe             LDA   #-2
  0015 aeff             LDX   #-1
  170:  
  171:  	if (_bufferTX->GetLen()==0)
  172:  	{
  173:  		_bufferTX->put (tono);	
  174:  		//Activamos la interrupción para el GENERAL PURPOSE TIMER
  175:  		irq_mask.bit._gp_timer = TRUE;
  176:  		SendCommand8 (IRQ_MASK,irq_mask.valor);	
  177:  		ZVEI_tx_enable (TRUE);		
  178:  	}
  179:  	else
  180:  		_bufferTX->put (tono);
  181:  
  182:  	return 0;
  183:  }
  0017 8a               PULH  
  0018 81               RTS   
  0019          L19:    
  0019 ad59             BSR   L74 ;abs = 0074
  001b f6               LDA   ,X
  001c 87               PSHA  
  001d e601             LDA   1,X
  001f 88               PULX  
  0020 cd0000           JSR   GetLen
  0023 89               PSHX  
  0024 8a               PULH  
  0025 97               TAX   
  0026 650000           CPHX  #0
  0029 2636             BNE   L61 ;abs = 0061
  002b ad47             BSR   L74 ;abs = 0074
  002d f6               LDA   ,X
  002e ee01             LDX   1,X
  0030 89               PSHX  
  0031 87               PSHA  
  0032 95               TSX   
  0033 e602             LDA   2,X
  0035 cd0000           JSR   put
  0038 a702             AIS   #2
  003a 450000           LDHX  @irq_mask
  003d f6               LDA   ,X
  003e aa40             ORA   #64
  0040 f7               STA   ,X
  0041 95               TSX   
  0042 ee04             LDX   4,X
  0044 89               PSHX  
  0045 95               TSX   
  0046 ee04             LDX   4,X
  0048 89               PSHX  
  0049 a68e             LDA   #-114
  004b ce0000           LDX   irq_mask
  004e cd0000           JSR   SendCommand8
  0051 a702             AIS   #2
  0053 95               TSX   
  0054 e604             LDA   4,X
  0056 87               PSHA  
  0057 e603             LDA   3,X
  0059 87               PSHA  
  005a a601             LDA   #1
  005c cd0000           JSR   ZVEI_tx_enable
  005f 200d             BRA   L6E ;abs = 006e
  0061          L61:    
  0061 ad11             BSR   L74 ;abs = 0074
  0063 f6               LDA   ,X
  0064 ee01             LDX   1,X
  0066 89               PSHX  
  0067 87               PSHA  
  0068 95               TSX   
  0069 e602             LDA   2,X
  006b cd0000           JSR   put
  006e          L6E:    
  006e a702             AIS   #2
  0070 5f               CLRX  
  0071 4f               CLRA  
  0072 8a               PULH  
  0073 81               RTS   
  0074          L74:    
  0074 95               TSX   
  0075 e605             LDA   5,X
  0077 87               PSHA  
  0078 ee06             LDX   6,X
  007a 8a               PULH  
  007b 81               RTS   
  184:  
  185:  int CFX828::TxZVEI (const unsigned char *tonos)
  186:  {

Function: CFX828::TxZVEI( const unsigned char*)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  0002 a7f6             AIS   #-10
  187:  	unsigned int val,n;
  188:  	unsigned char bte[2];
  189:  
  190:  	for (n=0;tonos[n]!=0;n++)	
  0004 95               TSX   
  0005 6f01             CLR   1,X
  0007 7f               CLR   ,X
  0008 2051             BRA   L5B ;abs = 005b
  000a          LA:     
  000a ad59             BSR   L65 ;abs = 0065
  191:  	{
  192:  		bte[0] = tonos[n];
  000c fe               LDX   ,X
  000d 9eef03           STX   3,SP
  193:  		bte[1] = 0;
  0010 95               TSX   
  0011 6f03             CLR   3,X
  194:  		
  195:  		val = atoi (bte);
  0013 af06             AIX   #6
  0015 89               PSHX  
  0016 8b               PSHH  
  0017 affc             AIX   #-4
  0019 89               PSHX  
  001a 8b               PSHH  
  001b 4f               CLRA  
  001c 87               PSHA  
  001d 87               PSHA  
  001e a60a             LDA   #10
  0020 5f               CLRX  
  0021 cd0000           JSR   strtol
  0024 a706             AIS   #6
  0026 95               TSX   
  0027 ee09             LDX   9,X
  0029 9eef06           STX   6,SP
  002c 9ee609           LDA   9,SP
  002f 87               PSHA  
  0030 9ee706           STA   6,SP
  0033 8a               PULH  
  196:  		if (val>15)
  0034 65000f           CPHX  #15
  0037 2306             BLS   L3F ;abs = 003f
  197:  			return ERROR;
  0039 a6ff             LDA   #-1
  003b aeff             LDX   #-1
  003d 2023             BRA   L62 ;abs = 0062
  003f          L3F:    
  198:  
  199:  		while (TxZVEI (val)==BUFFER_FULL);
  003f 95               TSX   
  0040 e60f             LDA   15,X
  0042 87               PSHA  
  0043 e60e             LDA   14,X
  0045 87               PSHA  
  0046 e605             LDA   5,X
  0048 cd0000           JSR   TxZVEI
  004b a702             AIS   #2
  004d 89               PSHX  
  004e 8a               PULH  
  004f 97               TAX   
  0050 65fffe           CPHX  #-2
  0053 27ea             BEQ   L3F ;abs = 003f
  0055 95               TSX   
  0056 6c01             INC   1,X
  0058 2601             BNE   L5B ;abs = 005b
  005a 7c               INC   ,X
  005b          L5B:    
  005b ad08             BSR   L65 ;abs = 0065
  005d 7d               TST   ,X
  005e 26aa             BNE   LA ;abs = 000a
  200:  	}
  201:  		
  202:  	return 0;
  0060 5f               CLRX  
  0061 4f               CLRA  
  0062          L62:    
  203:  }
  0062 a70c             AIS   #12
  0064 81               RTS   
  0065          L65:    
  0065 95               TSX   
  0066 e60d             LDA   13,X
  0068 eb03             ADD   3,X
  006a 87               PSHA  
  006b e602             LDA   2,X
  006d e90c             ADC   12,X
  006f 87               PSHA  
  0070 8a               PULH  
  0071 88               PULX  
  0072 81               RTS   
  204:  
  205:  void CFX828::ZVEI_tx_enable (BOOL enable)
  206:  {

Function: CFX828::ZVEI_tx_enable( unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  207:  	signalling_control.bit._selcall_tx_enable=enable;
  0000 a501             BIT   #1
  0002 2607             BNE   LB ;abs = 000b
  0004 c60000           LDA   signalling_control
  0007 a4fb             AND   #-5
  0009 2005             BRA   L10 ;abs = 0010
  000b          LB:     
  000b c60000           LDA   signalling_control
  000e aa04             ORA   #4
  0010          L10:    
  0010 c70000           STA   signalling_control
  208:  	SendCommand8 (SIGNALLING_CONTROL,signalling_control.valor);
  0013 95               TSX   
  0014 e603             LDA   3,X
  0016 87               PSHA  
  0017 e602             LDA   2,X
  0019 87               PSHA  
  001a a680             LDA   #-128
  001c ce0000           LDX   signalling_control
  001f cd0000           JSR   SendCommand8
  0022 a702             AIS   #2
  209:  }
  0024 81               RTS   
  210:  
  211:  //Programa un tono
  212:  void CFX828::ProgramZVEI (float tono)
  213:  {

Function: CFX828::ProgramZVEI( float)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  214:  	// a = fXTAL (hz) / (4 * fTONE (hz))
  215:  
  216:  	int a;
  217:  	
  218:  	a = XTAL / (4 * tono);		
  0000 95               TSX   
  0001 af02             AIX   #2
  0003 cd0000           JSR   _FMUL_RC
  0006 40800000         DC.L  1082130432
  000a 95               TSX   
  000b cd0000           JSR   _FDIV_LC
  000e 4a761800         DC.L  1249253376
  0012 95               TSX   
  0013 cd0000           JSR   _FSTRUNC
  219:  	selcall_tx.bit._selcall_tx_tone = a;
  0016 95               TSX   
  0017 e603             LDA   3,X
  0019 c80001           EOR   selcall_tx:1
  001c 87               PSHA  
  001d e602             LDA   2,X
  001f c80000           EOR   selcall_tx
  0022 a41f             AND   #31
  0024 87               PSHA  
  0025 95               TSX   
  0026 e601             LDA   1,X
  0028 c80001           EOR   selcall_tx:1
  002b c70001           STA   selcall_tx:1
  002e 86               PULA  
  002f c80000           EOR   selcall_tx
  0032 c70000           STA   selcall_tx
  220:  	SendCommand16 (SELCALL_TX,selcall_tx.valor);
  0035 ee15             LDX   21,X
  0037 89               PSHX  
  0038 95               TSX   
  0039 ee14             LDX   20,X
  003b 89               PSHX  
  003c ae8d             LDX   #-115
  003e 89               PSHX  
  003f 97               TAX   
  0040 c60001           LDA   selcall_tx:1
  0043 cd0000           JSR   SendCommand16
  0046 a710             AIS   #16
  221:  	
  222:  }
  0048 81               RTS   
  223:  
  224:  char CFX828::GetTone()
  225:  {

Function: CFX828::GetTone( void)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  226:  	if (!(_bufferRX->kbhit()))
  0002 89               PSHX  
  0003 8a               PULH  
  0004 97               TAX   
  0005 ee02             LDX   2,X
  0007 89               PSHX  
  0008 97               TAX   
  0009 e603             LDA   3,X
  000b 88               PULX  
  000c cd0000           JSR   kbhit
  000f 4d               TSTA  
  0010 2604             BNE   L16 ;abs = 0016
  227:  		return -1;
  0012 a6ff             LDA   #-1
  0014 200f             BRA   L25 ;abs = 0025
  0016          L16:    
  228:  	else
  229:  		return _bufferRX->get();
  0016 95               TSX   
  0017 f6               LDA   ,X
  0018 87               PSHA  
  0019 ee01             LDX   1,X
  001b 8a               PULH  
  001c e602             LDA   2,X
  001e 87               PSHA  
  001f e603             LDA   3,X
  0021 88               PULX  
  0022 cd0000           JSR   get
  0025          L25:    
  230:  
  231:  	return 0;
  232:  }
  0025 a702             AIS   #2
  0027 81               RTS   
  233:  
  234:  BOOL CFX828::IsTxBufferEmpty()
  235:  {

Function: CFX828::IsTxBufferEmpty( void)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  236:  	return ~(_bufferTX->kbhit());
  0000 89               PSHX  
  0001 8a               PULH  
  0002 97               TAX   
  0003 fe               LDX   ,X
  0004 89               PSHX  
  0005 97               TAX   
  0006 e601             LDA   1,X
  0008 88               PULX  
  0009 cd0000           JSR   kbhit
  000c 43               COMA  
  237:  }
  000d 81               RTS   
  238:  
  239:  void CFX828::IRQService()
  240:  {

Function: CFX828::IRQService( void)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  0002 8b               PSHH  
  241:  	static char toneTx,tono;
  242:  	static char toneRx = 0xff;
  243:  	
  244:  	irq_flag.valor = ReadCommand(IRQ_FLAG);
  0003 87               PSHA  
  0004 89               PSHX  
  0005 a68f             LDA   #-113
  0007 cd0000           JSR   ReadCommand
  000a a702             AIS   #2
  000c c70000           STA   irq_flag
  245:  
  246:  	if (irq_flag.bit._gpt) //General Purpouse Timer IRQ
  000f a540             BIT   #64
  0011 2749             BEQ   L5C ;abs = 005c
  0013 cd0113           JSR   L113 ;abs = 0113
  247:  	{
  248:  		if (_bufferTX->kbhit())
  0016 f6               LDA   ,X
  0017 87               PSHA  
  0018 e601             LDA   1,X
  001a 88               PULX  
  001b cd0000           JSR   kbhit
  001e 4d               TSTA  
  001f 273d             BEQ   L5E ;abs = 005e
  0021 cd0113           JSR   L113 ;abs = 0113
  249:  		{
  250:  			tono = _bufferTX->get();
  0024 f6               LDA   ,X
  0025 87               PSHA  
  0026 e601             LDA   1,X
  0028 88               PULX  
  0029 cd0000           JSR   get
  002c c70000           STA   tono
  251:  			if (toneTx == tono)
  002f c10000           CMP   toneTx
  0032 2608             BNE   L3C ;abs = 003c
  0034 cd0113           JSR   L113 ;abs = 0113
  252:  				tono=_RepeatTone;
  0037 e604             LDA   4,X
  0039 c70000           STA   tono
  003c          L3C:    
  253:  				
  254:  			 SendCommand16 (SELCALL_TX, ZVEI[tono]);
  003c 95               TSX   
  003d e602             LDA   2,X
  003f 87               PSHA  
  0040 e601             LDA   1,X
  0042 87               PSHA  
  0043 a68d             LDA   #-115
  0045 87               PSHA  
  0046 ce0000           LDX   tono
  0049 58               LSLX  
  004a 8c               CLRH  
  004b d60001           LDA   @ZVEI:1,X
  004e de0000           LDX   @ZVEI,X
  0051 cd0000           JSR   SendCommand16
  0054 a703             AIS   #3
  255:  			 toneTx = tono;
  0056 c60000           LDA   tono
  0059 c70000           STA   toneTx
  005c          L5C:    
  256:  		}
  005c 2043             BRA   LA1 ;abs = 00a1
  005e          L5E:    
  257:  		else
  258:  		{
  259:  			SendCommand16 (SELCALL_TX, 0);
  005e 95               TSX   
  005f e602             LDA   2,X
  0061 87               PSHA  
  0062 ee01             LDX   1,X
  0064 89               PSHX  
  0065 a68d             LDA   #-115
  0067 87               PSHA  
  0068 5f               CLRX  
  0069 4f               CLRA  
  006a cd0000           JSR   SendCommand16
  006d a703             AIS   #3
  260:  			signalling_control.bit._selcall_tx_enable=FALSE;
  006f 450000           LDHX  @signalling_control
  0072 f6               LDA   ,X
  0073 a4fb             AND   #-5
  0075 f7               STA   ,X
  261:  			SendCommand8 (SIGNALLING_CONTROL,signalling_control.valor);
  0076 95               TSX   
  0077 ee02             LDX   2,X
  0079 89               PSHX  
  007a 95               TSX   
  007b ee02             LDX   2,X
  007d 89               PSHX  
  007e a680             LDA   #-128
  0080 ce0000           LDX   signalling_control
  0083 cd0000           JSR   SendCommand8
  0086 a702             AIS   #2
  262:  			//Desactivamos la interrupción para el GENERAL PURPOSE TIMER
  263:  			irq_mask.bit._gp_timer = FALSE;
  0088 450000           LDHX  @irq_mask
  008b f6               LDA   ,X
  008c a4bf             AND   #-65
  008e f7               STA   ,X
  264:  			SendCommand8 (IRQ_MASK,irq_mask.valor);	
  008f 95               TSX   
  0090 ee02             LDX   2,X
  0092 89               PSHX  
  0093 95               TSX   
  0094 ee02             LDX   2,X
  0096 89               PSHX  
  0097 a68e             LDA   #-114
  0099 ce0000           LDX   irq_mask
  009c cd0000           JSR   SendCommand8
  009f a702             AIS   #2
  00a1          LA1:    
  265:  		}
  266:  	}
  267:  	
  268:  	
  269:  	//Hemos detectado un tono.
  270:  	if (irq_flag.bit._tone)
  00a1 c60000           LDA   irq_flag
  00a4 a508             BIT   #8
  00a6 2750             BEQ   LF8 ;abs = 00f8
  00a8 ad69             BSR   L113 ;abs = 0113
  271:  	{			
  272:  		selcall_subaudio_status.valor = ReadCommand (SELCALL_SUBAUDIO_STATUS);
  00aa 89               PSHX  
  00ab 87               PSHA  
  00ac a681             LDA   #-127
  00ae cd0000           JSR   ReadCommand
  00b1 a702             AIS   #2
  00b3 c70000           STA   selcall_subaudio_status
  273:  		if (selcall_subaudio_status.bit._tone_decode &&		//El tono recibido no es un NOTONE (Perdida de tono).
  00b6 a510             BIT   #16
  00b8 2739             BEQ   LF3 ;abs = 00f3
  274:  			_rx_tone != toneRx) 							//Además no es el mismo que ha recibido anteriormente
  00ba a40f             AND   #15
  00bc c10000           CMP   toneRx
  00bf 2732             BEQ   LF3 ;abs = 00f3
  275:  		{
  276:  			if (_rx_tone == _RepeatTone)	//Hemos recibido un tono de repetición (R).
  00c1 95               TSX   
  00c2 ee01             LDX   1,X
  00c4 89               PSHX  
  00c5 95               TSX   
  00c6 ee03             LDX   3,X
  00c8 8a               PULH  
  00c9 e104             CMP   4,X
  00cb 260b             BNE   LD8 ;abs = 00d8
  277:  											//Esto quiere decir que tenemos que poner en el buffer el mismo tono
  278:  				_bufferRX->put (toneRx);		//que habiamos recibido antes.
  00cd e602             LDA   2,X
  00cf ee03             LDX   3,X
  00d1 89               PSHX  
  00d2 87               PSHA  
  00d3 c60000           LDA   toneRx
  00d6 200c             BRA   LE4 ;abs = 00e4
  00d8          LD8:    
  279:  			else																	
  280:  				_bufferRX->put (_rx_tone); //Añadimos el nuevo tono al buffer de recepción
  00d8 9ee701           STA   1,SP
  00db e602             LDA   2,X
  00dd ee03             LDX   3,X
  00df 89               PSHX  
  00e0 87               PSHA  
  00e1 95               TSX   
  00e2 e602             LDA   2,X
  00e4          LE4:    
  00e4 cd0000           JSR   put
  00e7 a702             AIS   #2
  281:  								 		   //Guardamos el tono recibido para próxima comparación.
  282:  			toneRx = _rx_tone;
  00e9 c60000           LDA   selcall_subaudio_status
  00ec a40f             AND   #15
  00ee c70000           STA   toneRx
  283:  		}
  00f1 2005             BRA   LF8 ;abs = 00f8
  00f3          LF3:    
  284:  		else
  285:  			toneRx = 0xff;
  00f3 aeff             LDX   #-1
  00f5 cf0000           STX   toneRx
  00f8          LF8:    
  286:  	}
  287:  	
  288:  	if (irq_flag.bit._ctcss_fast)
  00f8 c60000           LDA   irq_flag
  00fb a504             BIT   #4
  00fd 2711             BEQ   L110 ;abs = 0110
  289:  	{			
  290:  		selcall_subaudio_status.valor = ReadCommand (SELCALL_SUBAUDIO_STATUS);
  00ff 95               TSX   
  0100 e602             LDA   2,X
  0102 87               PSHA  
  0103 e601             LDA   1,X
  0105 87               PSHA  
  0106 a681             LDA   #-127
  0108 cd0000           JSR   ReadCommand
  010b a702             AIS   #2
  010d c70000           STA   selcall_subaudio_status
  0110          L110:   
  291:  	}
  292:  	
  293:  }
  0110 a703             AIS   #3
  0112 81               RTS   
  0113          L113:   
  0113 95               TSX   
  0114 e603             LDA   3,X
  0116 87               PSHA  
  0117 ee04             LDX   4,X
  0119 8a               PULH  
  011a 81               RTS   
  294:  
  295:  void CFX828::SendChar (unsigned char Chr)
  296:  {

Function: CFX828::SendChar( unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 8b               PSHH  
  297:  
  298:    unsigned char i;
  299:    
  300:    for(i=0; i<8; i++) {
  0002 95               TSX   
  0003 7f               CLR   ,X
  0004          L4:     
  301:      DataOut_PutVal(Chr > 127);           /* Set value on MOSI */
  0004 e605             LDA   5,X
  0006 87               PSHA  
  0007 e604             LDA   4,X
  0009 87               PSHA  
  000a e601             LDA   1,X
  000c a17f             CMP   #127
  000e 2202             BHI   L12 ;abs = 0012
  0010 4f               CLRA  
  0011 65               SKIP2 L14 ;abs = 0014
  0012          L12:    
  0012 a601             LDA   #1
  0014          L14:    
  0014 cd0000           JSR   DataOut_PutVal
  0017 a702             AIS   #2
  302:      Clock_PutVal(0);		           /* Set CLK to sample value */
  0019 95               TSX   
  001a e605             LDA   5,X
  001c 87               PSHA  
  001d ee04             LDX   4,X
  001f 89               PSHX  
  0020 4f               CLRA  
  0021 cd0000           JSR   Clock_PutVal
  0024 a702             AIS   #2
  303:      Clock_PutVal(1);		           /* Set CLK to shift value */
  0026 95               TSX   
  0027 e605             LDA   5,X
  0029 87               PSHA  
  002a e604             LDA   4,X
  002c 87               PSHA  
  002d a601             LDA   #1
  002f cd0000           JSR   Clock_PutVal
  0032 a702             AIS   #2
  304:      Chr <<= 1;
  0034 95               TSX   
  0035 6801             LSL   1,X
  0037 7c               INC   ,X
  0038 f6               LDA   ,X
  0039 a108             CMP   #8
  003b 25c7             BCS   L4 ;abs = 0004
  305:    }
  306:  }
  003d a702             AIS   #2
  003f 81               RTS   
  307:  void CFX828::SendCommand16(unsigned char address, unsigned int command)
  308:  {

Function: CFX828::SendCommand16( unsigned char, unsigned int)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  309:  
  310:      Clock_PutVal(1);
  0002 95               TSX   
  0003 e606             LDA   6,X
  0005 87               PSHA  
  0006 ee05             LDX   5,X
  0008 89               PSHX  
  0009 a601             LDA   #1
  000b cd0000           JSR   Clock_PutVal
  000e a702             AIS   #2
  311:  	chip_select_ClrVal ();
  0010 1d00             BCLR  6,_PTC
  312:  	SendChar ((unsigned char)address);
  0012 95               TSX   
  0013 e606             LDA   6,X
  0015 87               PSHA  
  0016 ee05             LDX   5,X
  0018 89               PSHX  
  0019 95               TSX   
  001a e606             LDA   6,X
  001c ad00             BSR   SendChar
  001e a702             AIS   #2
  313:  	SendChar ((unsigned char)HIBYTE (command));
  0020 95               TSX   
  0021 e606             LDA   6,X
  0023 87               PSHA  
  0024 e605             LDA   5,X
  0026 87               PSHA  
  0027 f6               LDA   ,X
  0028 ad00             BSR   SendChar
  002a a702             AIS   #2
  314:  	SendChar ((unsigned char)LOBYTE (command));
  002c 95               TSX   
  002d e606             LDA   6,X
  002f 87               PSHA  
  0030 e605             LDA   5,X
  0032 87               PSHA  
  0033 e601             LDA   1,X
  0035 ad00             BSR   SendChar
  0037 a702             AIS   #2
  315:  	chip_select_SetVal ();
  0039 1c00             BSET  6,_PTC
  316:  }
  003b a702             AIS   #2
  003d 81               RTS   
  317:  
  318:  void CFX828::SendCommand8(unsigned char address, unsigned char command)
  319:  {

Function: CFX828::SendCommand8( unsigned char, unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  320:  
  321:      Clock_PutVal(1);
  0002 95               TSX   
  0003 e605             LDA   5,X
  0005 87               PSHA  
  0006 ee04             LDX   4,X
  0008 89               PSHX  
  0009 a601             LDA   #1
  000b cd0000           JSR   Clock_PutVal
  000e a702             AIS   #2
  322:  	chip_select_ClrVal ();
  0010 1d00             BCLR  6,_PTC
  323:  	SendChar ((unsigned char)address);
  0012 95               TSX   
  0013 e605             LDA   5,X
  0015 87               PSHA  
  0016 ee04             LDX   4,X
  0018 89               PSHX  
  0019 95               TSX   
  001a e603             LDA   3,X
  001c cd0000           JSR   SendChar
  001f a702             AIS   #2
  324:  	SendChar ((unsigned char)command);
  0021 95               TSX   
  0022 e605             LDA   5,X
  0024 87               PSHA  
  0025 e604             LDA   4,X
  0027 87               PSHA  
  0028 f6               LDA   ,X
  0029 cd0000           JSR   SendChar
  002c a702             AIS   #2
  325:  	chip_select_SetVal ();
  002e 1c00             BSET  6,_PTC
  326:  }
  0030 a702             AIS   #2
  0032 81               RTS   
  327:  
  328:  unsigned char CFX828::ReadCommand(unsigned char address)
  329:  {

Function: CFX828::ReadCommand( unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  330:  	unsigned char ret;
  331:  	
  332:      Clock_PutVal(1);
  0001 95               TSX   
  0002 e604             LDA   4,X
  0004 87               PSHA  
  0005 ee03             LDX   3,X
  0007 89               PSHX  
  0008 a601             LDA   #1
  000a cd0000           JSR   Clock_PutVal
  000d a702             AIS   #2
  333:  	chip_select_ClrVal ();
  000f 1d00             BCLR  6,_PTC
  334:  	SendChar ((unsigned char)address);
  0011 95               TSX   
  0012 e604             LDA   4,X
  0014 87               PSHA  
  0015 ee03             LDX   3,X
  0017 89               PSHX  
  0018 95               TSX   
  0019 e602             LDA   2,X
  001b cd0000           JSR   SendChar
  001e a702             AIS   #2
  335:  	ret = ReadChar ();
  0020 95               TSX   
  0021 ee03             LDX   3,X
  0023 9ee605           LDA   5,SP
  0026 cd0000           JSR   ReadChar
  336:  	chip_select_SetVal ();
  0029 1c00             BSET  6,_PTC
  337:  	
  338:  	return ret;
  339:  }
  002b 8a               PULH  
  002c 81               RTS   
  340:  
  341:  unsigned char CFX828::ReadChar (void)
  342:  {

Function: CFX828::ReadChar( void)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  0001 89               PSHX  
  0002 a7fe             AIS   #-2
  343:  
  344:    unsigned char Chr,i;
  345:    
  346:    for(i=0; i<8; i++)
  0004 95               TSX   
  0005 6f01             CLR   1,X
  0007          L7:     
  347:    {
  348:      Clock_PutVal(0);            /* Set CLK to shift value */
  0007 e603             LDA   3,X
  0009 87               PSHA  
  000a ee02             LDX   2,X
  000c 89               PSHX  
  000d 4f               CLRA  
  000e cd0000           JSR   Clock_PutVal
  0011 a702             AIS   #2
  349:      Clock_PutVal(1);           /* Set value on MOSI */
  0013 95               TSX   
  0014 e603             LDA   3,X
  0016 87               PSHA  
  0017 e602             LDA   2,X
  0019 87               PSHA  
  001a a601             LDA   #1
  001c cd0000           JSR   Clock_PutVal
  001f a702             AIS   #2
  350:      Chr <<= 1;
  0021 95               TSX   
  0022 78               LSL   ,X
  351:      Chr += DataIn_GetVal()?1:0; /* Read value from MISO */
  0023 4f               CLRA  
  0024 030002           BRCLR 1,_PTD,L29 ;abs = 0029
  0027 a601             LDA   #1
  0029          L29:    
  0029 fb               ADD   ,X
  002a f7               STA   ,X
  002b 6c01             INC   1,X
  002d e601             LDA   1,X
  002f a108             CMP   #8
  0031 25d4             BCS   L7 ;abs = 0007
  352:    }
  353:    return Chr;
  0033 f6               LDA   ,X
  354:  }
  0034 a704             AIS   #4
  0036 81               RTS   
  355:  
  356:  
  357:  void CFX828::DataOut_PutVal(unsigned char Value)
  358:  {

Function: CFX828::DataOut_PutVal( unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  359:    if (Value) {                         /* Is it one to be written? */
  0001 95               TSX   
  0002 7d               TST   ,X
  0003 2704             BEQ   L9 ;abs = 0009
  360:      PTD |= 4;                          /* Set bit on port */
  0005 1400             BSET  2,_PTD
  361:    }
  362:    else {                               /* Is it zero to be written? */
  363:      PTD &= ~4;                         /* Clear bit on port */
  364:    }
  365:  }
  0007 8a               PULH  
  0008 81               RTS   
  0009          L9:     
  0009 1500             BCLR  2,_PTD
  000b 8a               PULH  
  000c 81               RTS   
  366:  
  367:  void CFX828::Clock_PutVal(unsigned char Value)
  368:  {

Function: CFX828::Clock_PutVal( unsigned char)
Source  : Z:\vph1\2puertas\CON-PTT\Comun\FX828.cpp
Options : -Cc -Env"GENPATH=Z:\vph1\2puertas\CON-PTT\Calle;Z:\vph1\2puertas\CON-PTT\Calle\bin;Z:\vph1\2puertas\CON-PTT\Calle\cmd;*Z:\vph1\2puertas\CON-PTT\Calle\Code;Z:\vph1\2puertas\CON-PTT\Calle\prm;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\LIB;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\src;*D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\Bin\Plugins\support\ProcessorExpert;*Z:\vph1\2puertas\CON-PTT\Comun;*Z:\vph1\2puertas\CON-PTT;D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -Env"LIBPATH=D:\Archivos de programa\Metrowerks\CodeWarrior CW08_V3.0\lib\HC08c\INCLUDE" -EnvOBJPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -EnvTEXTPATH=Z:\vph1\2puertas\CON-PTT\Calle\bin -Lasm=%n.lst -ObjN=Z:\vph1\2puertas\CON-PTT\Calle\vph1_Data\P&E_PEDebug_FCS-ICS-ICD\ObjectCode\FX828.cpp.o -WmsgSd1106

  0000 87               PSHA  
  369:    if (Value) {                         /* Is it one to be written? */
  0001 95               TSX   
  0002 7d               TST   ,X
  0003 2704             BEQ   L9 ;abs = 0009
  370:      PTD |= 8;                          /* Set bit on port */
  0005 1600             BSET  3,_PTD
  371:    }
  372:    else {                               /* Is it zero to be written? */
  373:      PTD &= ~8;                         /* Clear bit on port */
  374:    }
  375:  }
  0007 8a               PULH  
  0008 81               RTS   
  0009          L9:     
  0009 1700             BCLR  3,_PTD
  000b 8a               PULH  
  000c 81               RTS   
  376:  
  377:  
